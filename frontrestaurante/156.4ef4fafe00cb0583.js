"use strict";(self.webpackChunkfrontrestaurante=self.webpackChunkfrontrestaurante||[]).push([[156],{5156:(Wt,I,u)=>{u.r(I),u.d(I,{CajaModule:()=>Lt});var v=u(9808),r=u(3075),b=u(325),M=u(6346),t=u(5e3),x=u(5228),Z=u(9293),$=u(7890);let G=(()=>{class i{constructor(e,o,a,n){this.route=e,this.router=o,this.authenticationService=a,this.servicio=n,this.columnas=["descripcion","descripcion_tipo"],this.nombrecolumna=["Descripci\xf3n de concepto","Tipo de Movimientos"],this.dataSource=new M.by}ngOnInit(){let e=this,o=this.authenticationService.currentUserValue;console.log(o.Token);const a=o.Token.toString();this.servicio.enviar_seguro("Web_service/lista_concepto",{},a).pipe().subscribe(n=>{e.dataSource=new M.by(n.lista_concepto)})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(b.gz),t.Y36(b.F0),t.Y36(x.$),t.Y36(Z.b))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-lista"]],decls:1,vars:3,consts:[["titulo_modulo","LISTA DE CONCEPTOS","url_nuevo","/principal/caja/concepto/nuevo","url_editar","/principal/caja/concepto/editar/","url_eliminar","Web_Service/eliminar_concepto",3,"columnas","filasource","nombrecolumna"]],template:function(e,o){1&e&&t._UZ(0,"app-datablematerial",0),2&e&&t.Q6J("columnas",o.columnas)("filasource",o.dataSource)("nombrecolumna",o.nombrecolumna)},directives:[$.ci],styles:[""]}),i})();var C=u(7261),X=u(5377),K=u(7505),k=u(9224),y=u(7322),J=u(7531),F=u(4107),tt=u(508),A=u(7423);function et(i,l){if(1&i&&(t.TgZ(0,"mat-option",13),t._uU(1),t.qZA()),2&i){const e=l.$implicit;t.Q6J("value",e.id_tipo_movimiento),t.xp6(1),t.Oqu(e.tipo_movimiento_descripcion)}}let E=(()=>{class i{constructor(e,o,a,n,c,d,s,_,g){this._snackBar=e,this.loadingBar=o,this.authenticationService=a,this.alertService=n,this.route=c,this.router=d,this.servicio=s,this.formbuilder=_,this.activatedroute=g,this.titulo="",this.tipo_movimiento=[],this.texto_boton="Guardar",this.estado=!0,this.form=this.formbuilder.group({descripcion:["",[r.kI.required]],tipo:["",[r.kI.required]],id:["",[]]})}ngOnInit(){let e=this,o=this.authenticationService.currentUserValue;console.log(o.Token);const a=o.Token.toString();console.log("info....."),this.activatedroute.data.subscribe(n=>{console.log(n),e.titulo=n.title}),this.servicio.enviar_seguro("Web_Service/cargar_tipo_concepto",{},a).pipe().subscribe(n=>{e.tipo_movimiento=n}),this.route.paramMap.subscribe(n=>{null!=n.get("id")&&(e.form.get("id").setValue(n.get("id")),e.servicio.enviar_seguro("Web_service/cargar_concepto_uno",{id:n.get("id")},a).pipe().subscribe(c=>{e.form.get("descripcion").setValue(c.con_descripcion),e.form.get("tipo").setValue(c.id_tipo_movimiento)},c=>{}))})}onSubmit(){let e=this;if(this.form.valid){let o={};e.texto_boton="Guardando...",e.estado=!1,o=this.form.value,this.servicio.enviar_seguro("Web_service/guardar_concepto",o,this.authenticationService.currentUserValue.Token).pipe().subscribe(c=>{e._snackBar.open(c.mensaje,"",{duration:2e3}),this.router.navigate(["/principal/caja/concepto/lista"])},c=>{})}}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(C.ux),t.Y36(X.dL),t.Y36(x.$),t.Y36(K.c),t.Y36(b.gz),t.Y36(b.F0),t.Y36(Z.b),t.Y36(r.qu),t.Y36(b.gz))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-nuevo"]],decls:33,vars:5,consts:[[3,"formGroup","submit"],["type","hidden","formControlName","id"],[1,"row"],[1,"col-md-12"],[2,"font-weight","bold","font-size","25px"],[1,"col-md-6"],["appearance","outline",2,"width","100% !important"],["matInput","","formControlName","descripcion"],["formControlName","tipo"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-12","d-flex","justify-content-center"],["id","basic","type","submit","mat-button","",2,"color","white","background-color","#039be5",3,"disabled"],["id","basic","routerLink","/principal/caja/concepto/lista","type","button","mat-button","",2,"color","white","background-color","red"],[3,"value"]],template:function(e,o){1&e&&(t.TgZ(0,"form",0),t.NdJ("submit",function(){return o.onSubmit()}),t._UZ(1,"input",1),t.TgZ(2,"div",2)(3,"div",3)(4,"h5",4),t._uU(5),t.qZA()()(),t._UZ(6,"br"),t.TgZ(7,"div",2)(8,"div",3)(9,"mat-card")(10,"div",2)(11,"div",5)(12,"mat-form-field",6)(13,"mat-label"),t._uU(14,"Descripci\xf3n de concepto"),t.qZA(),t._UZ(15,"input",7),t.TgZ(16,"mat-error"),t._uU(17," Campo requerido "),t.qZA()()(),t.TgZ(18,"div",5)(19,"mat-form-field",6)(20,"mat-label"),t._uU(21,"Tipo de Concepto"),t.qZA(),t.TgZ(22,"mat-select",8),t.YNc(23,et,2,2,"mat-option",9),t.qZA(),t.TgZ(24,"mat-error"),t._uU(25," Campo requerido "),t.qZA()()()(),t._UZ(26,"br"),t.TgZ(27,"div",2)(28,"div",10)(29,"button",11),t._uU(30),t.qZA(),t.TgZ(31,"button",12),t._uU(32," Cancelar "),t.qZA()()()()()()()),2&e&&(t.Q6J("formGroup",o.form),t.xp6(5),t.Oqu(o.titulo),t.xp6(18),t.Q6J("ngForOf",o.tipo_movimiento),t.xp6(6),t.Q6J("disabled",!o.form.valid||!o.estado),t.xp6(1),t.hij(" ",o.texto_boton," "))},directives:[r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,k.a8,y.KE,y.hX,J.Nt,y.TO,F.gD,v.sg,tt.ey,A.lW,b.rH],styles:[""]}),i})();var P=u(8989),Y=u(3562),R=u(5076),ot=u(806),it=u(2284),at=u(5226),w=u.n(at),p=u(8966),f=u(6536),nt=u(7407),S=u(9832),D=u(7544),z=u(4834),N=u(2181),L=u(5245),H=u(773),O=u(1330);function rt(i,l){1&i&&(t.TgZ(0,"div",1)(1,"div",15),t._UZ(2,"img",16)(3,"br"),t.TgZ(4,"h3",17),t._uU(5,"No tiene pedidos disponibles"),t.qZA()()())}function st(i,l){if(1&i&&(t.TgZ(0,"h6",33),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij("S/ ",e.venta_monto,"")}}function lt(i,l){if(1&i&&(t.TgZ(0,"h6",34),t._uU(1),t.ALo(2,"dfnsFormatDistanceToNow"),t.qZA()),2&i){const e=t.oxw().index,o=t.oxw(2).index,a=t.oxw(2);t.xp6(1),t.Oqu(t.xi3(2,1,a.inf[o][e].fecha,a.options))}}const ct=function(i,l,e,o){return{"example-box":i,"example-box1":l,"example-box2":e,seleccionar:o}};function dt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",28),t.NdJ("click",function(){const a=t.CHM(e),n=a.$implicit,c=a.index,d=t.oxw(2),s=d.$implicit,_=d.index,g=t.oxw(2);return g.ver_pedido(n.venta_idventas,n.mesa_id,n.nombre_silla,s.tipo.nombre,n.venta_monto,g.inf[_][c].fecha,_,c)}),t.TgZ(1,"div",29),t.YNc(2,st,2,1,"h6",30),t.TgZ(3,"h6",31),t._uU(4),t.qZA(),t.YNc(5,lt,3,4,"h6",32),t.qZA()()}if(2&i){const e=l.$implicit,o=l.index,a=t.oxw(2).index,n=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.l5B(4,ct,0==e.disponible,1==e.disponible||4==e.disponible,2==e.disponible,1==n.inf[a][o].estado)),t.xp6(1),t.Q6J("ngIf",1==e.disponible||4==e.disponible),t.xp6(2),t.hij("",e.nombre_silla," "),t.xp6(1),t.Q6J("ngIf",1==e.disponible||4==e.disponible)}}function ut(i,l){if(1&i&&(t.TgZ(0,"div",3)(1,"div",26)(2,"div",1),t.YNc(3,dt,6,9,"div",27),t.qZA()()()),2&i){const e=t.oxw().$implicit;t.xp6(3),t.Q6J("ngForOf",e.tipo.mesas)}}function pt(i,l){if(1&i&&(t.TgZ(0,"li",23)(1,"a",24),t._uU(2),t.qZA(),t.YNc(3,ut,4,1,"ng-template",25),t.qZA()),2&i){const e=l.$implicit;t.Q6J("ngbNavItem",l.index+1),t.xp6(2),t.Oqu(e.tipo.nombre)}}function mt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",18)(1,"ul",19,20),t.NdJ("activeIdChange",function(a){return t.CHM(e),t.oxw().active=a}),t.YNc(3,pt,4,2,"li",21),t.qZA(),t.TgZ(4,"div",22),t._uU(5," hola"),t.qZA()()}if(2&i){const e=t.MAs(2),o=t.oxw();t.xp6(1),t.Q6J("activeId",o.active),t.xp6(2),t.Q6J("ngForOf",o.listatipomesa),t.xp6(1),t.Q6J("ngbNavOutlet",e)}}function _t(i,l){1&i&&(t.TgZ(0,"div",35)(1,"div",36)(2,"h3",37),t._uU(3,"Seleccionar una mesa"),t.qZA()(),t.TgZ(4,"div",38)(5,"h3",39),t._UZ(6,"i",40),t.qZA()(),t.TgZ(7,"div",38)(8,"h3",41),t._uU(9,"Navega por la lista de salones y selecciona una de las mesas"),t.qZA()(),t.TgZ(10,"div",38)(11,"h5",42),t._uU(12,"Aqu\xed podr\xe1s ver la oferta que tenemos para tus clientes y armar su pedido"),t.qZA()()())}function gt(i,l){if(1&i&&(t.TgZ(0,"span",88),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.comentario)}}function ht(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"tr",78)(1,"td",51),t._uU(2),t.qZA(),t.TgZ(3,"td",79)(4,"span"),t._uU(5),t.YNc(6,gt,2,1,"span",80),t.qZA()(),t.TgZ(7,"td",81)(8,"span",82),t._uU(9),t.ALo(10,"number"),t.qZA()(),t.TgZ(11,"td",81)(12,"span",82),t._uU(13),t.ALo(14,"number"),t.qZA()(),t.TgZ(15,"td",83)(16,"button",84),t._UZ(17,"i",85),t.qZA(),t.TgZ(18,"mat-menu",null,86)(20,"button",87),t.NdJ("click",function(){const a=t.CHM(e),n=a.$implicit,c=a.index;return t.oxw(4).eliminar(n.iddetalle,c)}),t.TgZ(21,"mat-icon"),t._uU(22,"delete"),t.qZA(),t.TgZ(23,"span"),t._uU(24,"Eliminar"),t.qZA()(),t.TgZ(25,"button",87),t.NdJ("click",function(){const a=t.CHM(e),n=a.$implicit,c=a.index;return t.oxw(4).editar(n.iddetalle,n.precio,n.cantidad,n.nombre,c)}),t.TgZ(26,"mat-icon"),t._uU(27,"edit"),t.qZA(),t.TgZ(28,"span"),t._uU(29,"Editar"),t.qZA()(),t.TgZ(30,"button",87),t.NdJ("click",function(){const a=t.CHM(e),n=a.$implicit,c=a.index;return t.oxw(4).canje(n.iddetalle,n.precio,n.cantidad,n.nombre,c)}),t.TgZ(31,"mat-icon"),t._uU(32,"redeem"),t.qZA(),t.TgZ(33,"span"),t._uU(34,"Canje"),t.qZA()()()()()}if(2&i){const e=l.$implicit,o=t.MAs(19);t.xp6(2),t.hij(" ",e.cantidad," "),t.xp6(3),t.hij(" ",e.nombre," "),t.xp6(1),t.Q6J("ngIf",""!=e.comentario),t.xp6(3),t.hij(" ",t.xi3(10,6,e.precio,"1.2-2")," "),t.xp6(4),t.hij(" ",t.xi3(14,9,e.cantidad*e.precio,"1.2-2")," "),t.xp6(3),t.Q6J("matMenuTriggerFor",o)}}function ft(i,l){if(1&i&&(t.TgZ(0,"div",75)(1,"table",76)(2,"tbody"),t.YNc(3,ht,35,12,"tr",77),t.qZA()()()),2&i){const e=t.oxw(3);t.xp6(3),t.Q6J("ngForOf",e.listadetalle)}}function vt(i,l){1&i&&(t.TgZ(0,"div",89),t._UZ(1,"mat-spinner",90),t.qZA()),2&i&&(t.xp6(1),t.Q6J("diameter",50))}function bt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",3)(1,"table",45)(2,"thead")(3,"tr",46)(4,"th",47)(5,"span",48),t._uU(6,"Cant."),t.qZA()(),t.TgZ(7,"th",49)(8,"span",50),t._uU(9,"Descripci\xf3n"),t.qZA()(),t.TgZ(10,"th",51)(11,"span",52),t._uU(12,"P.U"),t.qZA()(),t.TgZ(13,"th",51)(14,"span",52),t._uU(15,"Importe"),t.qZA()(),t.TgZ(16,"th",53),t._uU(17,"Acciones"),t.qZA()()()(),t.YNc(18,ft,4,1,"div",54),t.YNc(19,vt,2,1,"div",55),t.qZA(),t._UZ(20,"mat-divider"),t.TgZ(21,"div",56)(22,"div",57)(23,"div",58)(24,"button",59),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).precuenta()}),t._UZ(25,"i",60),t._uU(26," Precuenta"),t.qZA(),t.TgZ(27,"button",61),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).eliminar_pedido()}),t._UZ(28,"i",62),t._uU(29," Eliminar Pedido"),t.qZA()(),t.TgZ(30,"div")(31,"div",63)(32,"div",64)(33,"label",65),t._uU(34),t.qZA()()(),t.TgZ(35,"div",1)(36,"button",66),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).pagar()}),t._UZ(37,"i",67),t._uU(38," PAGAR(CTRL + ENTER)"),t.qZA()()()()(),t.TgZ(39,"div",3)(40,"div",57)(41,"div",68)(42,"div",69)(43,"div",70),t._UZ(44,"i",71),t.qZA(),t.TgZ(45,"div",72)(46,"b"),t._uU(47),t._UZ(48,"br"),t._uU(49,"ocupada"),t.qZA()()()(),t.TgZ(50,"div")(51,"div",69)(52,"div",70),t._UZ(53,"i",73),t.qZA(),t.TgZ(54,"div",72)(55,"b"),t._uU(56),t._UZ(57,"br"),t._uU(58,"Pedidos"),t.qZA()()()(),t.TgZ(59,"div",68)(60,"div",69)(61,"div",70),t._UZ(62,"i",74),t.qZA(),t.TgZ(63,"div",72)(64,"b"),t._uU(65),t._UZ(66,"br"),t._uU(67,"por pagar"),t.qZA()()()()()()}if(2&i){const e=t.oxw(2);t.xp6(18),t.Q6J("ngIf",!e.estado_carga),t.xp6(1),t.Q6J("ngIf",e.estado_carga),t.xp6(15),t.hij("Total :S/ ",e.monto_total,""),t.xp6(13),t.Oqu(e.tiempo),t.xp6(9),t.hij("",e.total_cantidad," "),t.xp6(9),t.hij(" S/ ",e.monto_total,"")}}function xt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"mat-card")(1,"div",1)(2,"div",3)(3,"label",43),t._uU(4),t.qZA(),t.TgZ(5,"label"),t._uU(6," Busca un producto"),t.qZA(),t._UZ(7,"mat-divider",9),t.qZA(),t.TgZ(8,"div",18)(9,"ul",19,44),t.NdJ("activeIdChange",function(a){return t.CHM(e),t.oxw().activado=a}),t.TgZ(11,"li",23)(12,"a",24),t._uU(13,"Cuenta"),t.qZA(),t.YNc(14,bt,68,6,"ng-template",25),t.qZA()(),t._UZ(15,"div",22),t.qZA()()()}if(2&i){const e=t.MAs(10),o=t.oxw();t.xp6(4),t.Oqu(o.nombre_mesa),t.xp6(5),t.Q6J("activeId",o.activado),t.xp6(2),t.Q6J("ngbNavItem",2),t.xp6(4),t.Q6J("ngbNavOutlet",e)}}let Zt=(()=>{class i{constructor(e,o,a,n,c,d,s,_,g,U){this._formBuilder=e,this.fb=o,this.route=a,this.router=n,this.authenticationService=c,this.servicio=d,this.modalService=s,this.ngxUiLoaderService=_,this.dialog=g,this._snackBar=U,this.active=1,this.activado=2,this.nombre_mesa="",this.tiempo="",this.cargarmesa=!1,this.options={locale:P.Z,addSuffix:!0,includeSeconds:!0,unit:"minute"},this.idventa=0,this.idmesa=0,this.cantidad_pedido=0,this.listatipomesa=[],this.inf=[],this.estado_carga=!1,this.base_url="",this.ListaProducto=[],this.listadetalle=[],this.monto_total="",this.total_cantidad=0,this.index_mesa=0,this.index1_mesa=0}canje(e,o,a,n,c){this.dialog.open(Ut,{data:{id:e,precio:o,cantidad:a,nombre:n}}).afterClosed().subscribe(_=>{console.log(_),null!=_&&_.estado&&this.recargar_datos()})}eliminar(e,o){const a=this.dialog.open(At,{data:{id:e}});let n=this;a.afterClosed().subscribe(c=>{if(console.log(c),null!=c&&c.estado){n.listadetalle=n.listadetalle.filter(s=>s.iddetalle.toString()!=c.id_detalle_venta.toString());let d=0;n.listadetalle.forEach(s=>{d+=s.cantidad*s.precio}),0==n.listadetalle.length?(n.cargar_mesas(),n.cargarmesa=!1):(n.monto_total=d.toFixed(2),this.listatipomesa[this.index_mesa].tipo.mesas[this.index1_mesa].venta_monto=n.monto_total)}})}editar(e,o,a,n,c){const d=this.dialog.open(Tt,{data:{id:e,precio:o,cantidad:a,nombre:n}});let s=this;d.afterClosed().subscribe(_=>{if(console.log(_),null!=_&&_.estado){s.listadetalle[c].cantidad=_.cantidad;let g=0;s.listadetalle.forEach(U=>{g+=U.cantidad*U.precio}),s.monto_total=g.toFixed(2),this.listatipomesa[this.index_mesa].tipo.mesas[this.index1_mesa].venta_monto=s.monto_total}})}eliminar_pedido(){const e=this.dialog.open(Ct,{data:{idventa:this.idventa}});let o=this;e.afterClosed().subscribe(a=>{a.estado&&(o.cargar_mesas(),o.cargarmesa=!1)})}precuenta(){window.open(this.servicio.url_global+"Precuenta/mostrar_comprobante/"+this.idventa,"_blank")}pagar(){if(0==this.listadetalle.length)return void this._snackBar.open("POR FAVOR INGRESE AL MENOS UN PLATO","",{duration:1e3});const e=this.modalService.open(it.G2,{animation:!0,size:"xl",windowClass:"dark-modal",keyboard:!1,backdrop:"static"});let o=this,a={};a.idventa=o.idventa,a.idmesa=o.idmesa,a.pedido=o.listadetalle,a.mesa=o.nombre_mesa,e.componentInstance.dataToTakeAsInput=a,e.result.then(n=>{console.log(n),n.estado?(o._snackBar.open(n.mensaje,"",{duration:3e3}),o.cargarmesa=!1,o.cargar_mesas()):null!=n.mensaje&&o._snackBar.open(n.mensaje,"ok",{duration:3e3})}).catch(n=>{console.log(n)})}ngOnInit(){this.formulario=this._formBuilder.group({tipo_mesa:new r.NI("1")}),this.cargar_mesas()}cargar_mesas(){let e=this,o=[],a=this.authenticationService.currentUserValue;console.log(a.Token);const n=a.Token.toString();e.cantidad_pedido=0,this.servicio.enviar_seguro("Web_service/cargar_mesas",{tipo:3},n,2).pipe().subscribe(c=>{console.log(c),e.listatipomesa=c,e.inf=[],e.listatipomesa.forEach((d,s)=>{o=[];let _=d.tipo.mesas;console.log(_),_.forEach(g=>{e.cantidad_pedido++,o.push({fecha:new Date(g.venta_pedidofecha),estado:0})}),e.inf.push(o)})})}ver_pedido(e,o,a,n,c,d,s,_){this.idventa=e,this.idmesa=o,this.cargarmesa=!0,this.listatipomesa.forEach((j,h)=>{console.log(j.tipo.mesas),j.tipo.mesas.forEach((Kt,Bt)=>{this.inf[h][Bt].estado=0})}),this.inf[s][_].estado=1,this.index_mesa=s,this.index1_mesa=_;let U=(0,ot.Z)(d,{roundingMethod:"round",locale:P.Z,addSuffix:!1,unit:"minute"});console.log(U);let V=U.split(" ");this.tiempo=V[0]+" "+V[1][0],this.nombre_mesa=a+"("+n+")";let T=this;this.estado_carga=!0,this.base_url=this.servicio.url_global;let B={};B.idventa=e;let W=this.authenticationService.currentUserValue;T.monto_total=c,console.log(W.Token);const Vt=W.Token.toString();T.listadetalle=[],this.servicio.enviar_seguro("Web_service/buscar_producto",B,Vt,2).pipe().subscribe(j=>{T.ListaProducto=[],T.estado_carga=!1,j.productos.forEach(h=>{T.ListaProducto.push(new Y.U(h.producto_id,h.producto_descripcion,"",h.imagen,"",h.producto_precio,h.producto_id_tipoproducto,h.stock,h.producto_encendido))}),T.total_cantidad=0,j.detalle.forEach(h=>{T.listadetalle.push(new R.y(h.id_producto,h.descripcion,h.comentario,h.precio,h.cantidad,2,h.iddetalle))}),T.total_cantidad=T.listadetalle.length})}recargar_datos(){let e=this;this.estado_carga=!0,this.base_url=this.servicio.url_global;let o={};o.idventa=this.idventa;let a=this.authenticationService.currentUserValue;console.log(a.Token);const n=a.Token.toString();e.listadetalle=[],this.servicio.enviar_seguro("Web_service/buscar_producto",o,n,2).pipe().subscribe(c=>{e.ListaProducto=[],e.estado_carga=!1,c.productos.forEach(s=>{e.ListaProducto.push(new Y.U(s.producto_id,s.producto_descripcion,"",s.imagen,"",s.producto_precio,s.producto_id_tipoproducto,s.stock,s.producto_encendido))}),e.total_cantidad=0,c.detalle.forEach(s=>{e.listadetalle.push(new R.y(s.id_producto,s.descripcion,s.comentario,s.precio,s.cantidad,2,s.iddetalle))}),e.total_cantidad=e.listadetalle.length;let d=0;e.listadetalle.forEach(s=>{d+=s.cantidad*s.precio}),0==e.listadetalle.length?(e.cargar_mesas(),e.cargarmesa=!1):(e.monto_total=d.toFixed(2),this.listatipomesa[this.index_mesa].tipo.mesas[this.index1_mesa].venta_monto=e.monto_total)})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(r.qu),t.Y36(r.qu),t.Y36(b.gz),t.Y36(b.F0),t.Y36(x.$),t.Y36(Z.b),t.Y36(f.FF),t.Y36(nt.LA),t.Y36(p.uw),t.Y36(C.ux))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-pedido"]],decls:22,vars:7,consts:[[3,"formGroup"],[1,"row"],[1,"col-md-5"],[1,"col-md-12"],["formControlName","tipo_mesa","name","fontStyle","aria-label","Font Style",2,"width","100% !important"],["value","1",2,"width","50% !important","height","30px","text-align","center"],["aria-hidden","true",1,"fa","fa-check-circle"],["MatBadgeSize","large","MatBadgePosition","above","matBadgeColor","warn",2,"margin-left","10px",3,"matBadge"],["value","2",2,"width","50% !important","height","30px","text-align","center"],[2,"margin-top","10px","margin-bottom","10px","padding-left","20px !important","padding-right","20px !important"],["class","row",4,"ngIf"],["class","col-md-12","style","margin-top: 20px;margin-bottom: 20px;",4,"ngIf"],[1,"col-md-7"],["class","row justify-content-center",4,"ngIf"],[4,"ngIf"],[1,"col-md-12","flex_imagen"],["src","../../../../assets/no-fast-food.png",1,"imagen_emty"],[1,"texto_empty"],[1,"col-md-12",2,"margin-top","20px","margin-bottom","20px"],["ngbNav","",1,"nav-tabs",3,"activeId","activeIdChange"],["nav","ngbNav"],[3,"ngbNavItem",4,"ngFor","ngForOf"],[1,"mt-2",2,"border","1px",3,"ngbNavOutlet"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[1,"cuerpo_lista",2,"padding","15px","height","450px !important","overflow-y","scroll","overflow-x","hidden","width","100% !important"],["style","height: 130px;","class","col-md-4 col-6  ",3,"click",4,"ngFor","ngForOf"],[1,"col-md-4","col-6",2,"height","130px",3,"click"],[1,"seleccionar",2,"padding-top","10px","padding-bottom","10px","cursor","pointer",3,"ngClass"],["style","font-size: 15px;margin-top: 10px;",4,"ngIf"],[2,"font-size","18px"],["style","font-size: 10px;margin-bottom: 10px;line-height: 10px;",4,"ngIf"],[2,"font-size","15px","margin-top","10px"],[2,"font-size","10px","margin-bottom","10px","line-height","10px"],[1,"row","justify-content-center"],[1,"col-md-12","d-flex","justify-content-center",2,"margin-top","40px"],[2,"font-weight","bold","font-size","20px","display","block","margin-bottom","0px","color","black"],[1,"col-md-12","d-flex","justify-content-center"],[2,"display","block","margin-bottom","0px"],["aria-hidden","true",1,"fa","fa-long-arrow-left",2,"font-size","50px"],[2,"font-weight","bold","font-size","17px","display","block","margin-bottom","0px"],[2,"font-size","12px","display","block","margin-bottom","0px"],[2,"font-weight","bold","font-size","15px","margin-right","10px"],["nav1","ngbNav"],["id","posTable","data-height","100",1,"table","table-striped","table-condensed","table-hover","list-table",2,"margin","0px"],[1,"success"],[2,"width","10%"],["id","prod"],[2,"width","50%"],["id","pre"],[2,"width","15%","text-align","center"],["id","cant"],[1,"satu",2,"width","5%","text-align","center"],["id","cuerpo","style"," height: 250px !important;\n                    overflow: auto !important;\n                    overflow-x:hidden!important;",4,"ngIf"],["style"," height: 250px !important;","class","row d-flex justify-content-center",4,"ngIf"],[1,"col-md-12",2,"margin-top","10px"],[2,"display","flex","flex-direction","row","justify-content","space-between"],[2,"padding-top","35px"],["type","button",1,"btn","btn-success","btn-sm",2,"color","white","background-color","#2dada7",3,"click"],["aria-hidden","true",1,"fa","fa-print"],["type","button",1,"btn","btn-danger","btn-sm",2,"color","white","background-color","red",3,"click"],["aria-hidden","true",1,"fa","fa-trash"],[1,"row",2,"text-align","end !important"],[1,"col-md-12","text-center",2,"margin","5px !important"],[1,"text-right",2,"margin-right","10px","color","#2dada7","font-size","17px"],["type","button",1,"btn","btn-success",2,"margin","0px","background-color","#2dada7","width","40  px",3,"click"],["aria-hidden","true",1,"fa","fa-money"],[1,""],[1,"bar"],[1,"icon"],[1,"fa","fa-clock-o",2,"font-size","50px"],[1,"text"],[1,"fa","fa-file-text-o",2,"font-size","50px"],[1,"fa","fa-money",2,"font-size","50px"],["id","cuerpo",2,"height","250px !important","overflow","auto !important","overflow-x","hidden!important"],["data-height","100",1,"table","table-striped","table-condensed","table-hover","list-table",2,"margin","0px"],["style","padding: 0px !important;",4,"ngFor","ngForOf"],[2,"padding","0px !important"],[2,"width","35%"],["class","badge bg-success","style","color: white;font-size: 13px;",4,"ngIf"],[1,"text-right",2,"width","15%","text-align","center"],["id","subtotal10159",1,"text-right"],[1,"text-center",2,"width","5%","text-align","center"],[1,"btn","btn-primary",2,"background-color","#f4f4f4","color","#455a64","border-color","#ddd",3,"matMenuTriggerFor"],["title","opciones",1,"fa","fa-cog","tip","pointer","posdel",2,"color","black","cursor","pointer"],["menu","matMenu"],["mat-menu-item","",3,"click"],[1,"badge","bg-success",2,"color","white","font-size","13px"],[1,"row","d-flex","justify-content-center",2,"height","250px !important"],[3,"diameter"]],template:function(e,o){1&e&&(t.TgZ(0,"form",0)(1,"div",1)(2,"div",2)(3,"mat-card")(4,"div",3)(5,"mat-button-toggle-group",4)(6,"mat-button-toggle",5)(7,"label"),t._UZ(8,"i",6),t._uU(9," Salones "),t._UZ(10,"label",7),t.qZA()(),t.TgZ(11,"mat-button-toggle",8)(12,"label"),t._UZ(13,"i",6),t._uU(14," Delivery "),t._UZ(15,"label",7),t.qZA()()()(),t._UZ(16,"mat-divider",9),t.YNc(17,rt,6,0,"div",10),t.YNc(18,mt,6,3,"div",11),t.qZA()(),t.TgZ(19,"div",12),t.YNc(20,_t,13,0,"div",13),t.YNc(21,xt,16,4,"mat-card",14),t.qZA()()()),2&e&&(t.Q6J("formGroup",o.formulario),t.xp6(10),t.Q6J("matBadge",o.cantidad_pedido),t.xp6(5),t.Q6J("matBadge",0),t.xp6(2),t.Q6J("ngIf",0==o.listatipomesa.length),t.xp6(1),t.Q6J("ngIf",0!=o.listatipomesa.length),t.xp6(2),t.Q6J("ngIf",!o.cargarmesa),t.xp6(1),t.Q6J("ngIf",o.cargarmesa))},directives:[r._Y,r.JL,r.sg,k.a8,S.A9,r.JJ,r.u,S.Yi,D.k,z.d,v.O5,f.Pz,v.sg,f.nv,f.Vx,f.uN,v.mk,f.tO,N.p6,N.VK,N.OP,L.Hw,H.Ou],pipes:[O.yRt,v.JJ],styles:[".mat-button-toggle-checked i{background-color:#2dada7;color:#fff!important;line-height:0px!important;display:contents!important}.imagen_emty[_ngcontent-%COMP%]{width:250px;display:block}.flex_imagen[_ngcontent-%COMP%]{padding:100px;display:flex;align-items:center;justify-content:center;flex-direction:column}.texto_empty[_ngcontent-%COMP%]{font-weight:700;text-transform:uppercase}  .mat-button-toggle-label-content{line-height:0px!important;padding:12px 10px 10px!important}  .mat-button-toggle-appearance-standard .mat-button-toggle-label-content{line-height:0px!important}  .mat-button-toggle-checked{background-color:#2dada7;color:#fff!important;line-height:0px!important}  .mat-button-toggle i{display:none!important}  .mat-button-toggle-checked i{background-color:#2dada7;color:#fff!important;line-height:0px!important;display:contents!important}.tab-pane[_ngcontent-%COMP%]{border-left:1px solid #ddd!important;border-right:1px solid #ddd;border-bottom:1px solid #ddd;border-radius:0 0 5px 5px;padding:10px}.bordered-tab-contents[_ngcontent-%COMP%] > .nav-tabs[_ngcontent-%COMP%]{margin-bottom:0}.example-box1[_ngcontent-%COMP%]{padding:10px;width:100%;height:120px!important;border:solid 1px #ccc;color:#fff;background-color:#e53935;display:flex;flex-direction:column;text-align:center;justify-content:space-between;border-radius:4px;margin:10px;z-index:1}.example-box[_ngcontent-%COMP%]{padding:10px;margin:10px;width:100%;height:120px!important;border:solid 1px #ccc;color:#fff;background-color:#2e7d32;display:flex;justify-content:center;align-items:center;text-align:center;border-radius:4px;z-index:1}.seleccionar[_ngcontent-%COMP%]{border:3px solid black!important}.example-box2[_ngcontent-%COMP%]{margin:10px;padding:10px;width:100%;height:120px!important;border:solid 1px #ccc;color:#fff;background-color:#01579b;display:flex;justify-content:center;align-items:center;text-align:center;border-radius:4px;z-index:1}.mat-tab-group[_ngcontent-%COMP%]{margin-bottom:48px}@media only screen and (max-width: 600px){.example-box1[_ngcontent-%COMP%]{padding:10px;width:120px;height:120px!important;border:solid 1px #ccc;color:#fff;background-color:#e53935;display:flex;flex-direction:column;text-align:center;justify-content:space-between;border-radius:4px;margin:10px;z-index:1}.example-box[_ngcontent-%COMP%]{padding:10px;margin:10px;width:120px;height:120px!important;border:solid 1px #ccc;color:#fff;background-color:#2e7d32;display:flex;justify-content:center;align-items:center;text-align:center;border-radius:4px;z-index:1}.hidden[_ngcontent-%COMP%]{display:none}.example-box2[_ngcontent-%COMP%]{margin:10px;padding:10px;width:120px;height:120px!important;border:solid 1px #ccc;color:#fff;background-color:#01579b;display:flex;justify-content:center;align-items:center;text-align:center;border-radius:4px;z-index:1}}.cuerpo_lista[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px;background-color:#f5f5f5;opacity:.5}.cuerpo_lista[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#000;opacity:.5}.cuerpo_lista[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#f5f5f5;opacity:.5}.bar[_ngcontent-%COMP%]{border:1px solid white;border-radius:5px;padding:15px;display:grid;grid-gap:10px;grid-template-columns:repeat(2,max-content)}.icon[_ngcontent-%COMP%]{font-size:x-large;text-align:center;width:25%}.text[_ngcontent-%COMP%]{width:100%}"]}),i})(),Ct=(()=>{class i{constructor(e,o,a,n,c){this.data=e,this.servicio=o,this.authenticationService=a,this.dialogRef=n,this._snackBar=c,this.formulario_eliminar=new r.cw({motivo_modal:new r.NI("",[r.kI.required]),eliminar_usuario_total:new r.NI("",[r.kI.required]),eliminar_contrasena_total:new r.NI("",[r.kI.required])}),this.button_aceptar="Aceptar",this.estado_aceptar=!0,console.log(this.data)}cargar_datos(){console.log(this.data.idventa),console.log(this.formulario_eliminar.value);let e=this.formulario_eliminar.value,a={};a.idventa=this.data.idventa,a.motivo_modal=e.motivo_modal,a.eliminar_usuario_total=e.eliminar_usuario_total,a.eliminar_contrasena_total=e.eliminar_contrasena_total,this.estado_aceptar=!1,this.button_aceptar="Procesando...",console.log(a);let n=this,c=this.authenticationService.currentUserValue;console.log(c.Token);const d=c.Token.toString();this.servicio.enviar_seguro("Web_service/ws_eliminar_pedido",a,d,2).pipe().subscribe(s=>{s.estado?(n.estado_aceptar=!0,n.button_aceptar="Aceptar",this.dialogRef.close(s),n._snackBar.open(s.mensaje,"",{duration:2e3})):(n.estado_aceptar=!0,n.button_aceptar="Aceptar",this.dialogRef.close(s),w().fire({icon:"error",title:"ERROR",text:s.mensaje}))})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(p.WI),t.Y36(Z.b),t.Y36(x.$),t.Y36(p.so),t.Y36(C.ux))},i.\u0275cmp=t.Xpm({type:i,selectors:[["eliminar-modal"]],decls:25,vars:3,consts:[[3,"formGroup","submit"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"row"],[1,"col-md-12"],[1,"form-group"],["type","text","required","true","formControlName","motivo_modal","id","motivo_modal",1,"form-control"],["id","eliminar_div_usuario_total",1,"col-md-6"],["type","text","formControlName","eliminar_usuario_total","autocomplete","off","id","eliminar_usuario_total","required","true",1,"form-control"],["id","eliminar_div_contrasena_total",1,"col-md-6"],["type","password","formControlName","eliminar_contrasena_total","autocomplete","off","id","eliminar_contrasena_total","required","true",1,"form-control"],["mat-dialog-actions",""],["type","submit",1,"btn","btn-danger",2,"background-color","red","color","white",3,"disabled"],["mat-button","","type","button","mat-dialog-close",""]],template:function(e,o){1&e&&(t.TgZ(0,"form",0),t.NdJ("submit",function(){return o.cargar_datos()}),t.TgZ(1,"h1",1),t._uU(2,"Eliminar Pedido"),t.qZA(),t.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"label"),t._uU(8,"Ingrese el Motivo de Eliminar Pedido"),t.qZA(),t._UZ(9,"input",6),t.qZA()(),t.TgZ(10,"div",7)(11,"div",5)(12,"label"),t._uU(13,"Usuario"),t.qZA(),t._UZ(14,"input",8),t.qZA()(),t.TgZ(15,"div",9)(16,"div",5)(17,"label"),t._uU(18,"Contrase\xf1a"),t.qZA(),t._UZ(19,"input",10),t.qZA()()()(),t.TgZ(20,"div",11)(21,"button",12),t._uU(22),t.qZA(),t.TgZ(23,"button",13),t._uU(24,"Cerrar"),t.qZA()()()),2&e&&(t.Q6J("formGroup",o.formulario_eliminar),t.xp6(21),t.Q6J("disabled",!o.formulario_eliminar.valid||!o.estado_aceptar),t.xp6(1),t.Oqu(o.button_aceptar))},directives:[r._Y,r.JL,r.sg,p.uh,p.xY,r.Fj,r.Q7,r.JJ,r.u,p.H8,A.lW,p.ZT],encapsulation:2}),i})(),Tt=(()=>{class i{constructor(e,o,a,n,c){var d,s,_;this.data=e,this.servicio=o,this.authenticationService=a,this.dialogRef=n,this._snackBar=c,this.valor_maximo=100,this.formulario_eliminar=new r.cw({nombre_producto:new r.NI("",[r.kI.required]),precio_producto:new r.NI("",[r.kI.required]),stock_producto:new r.NI("",[r.kI.required]),cantidad_producto:new r.NI("",[r.kI.required]),eliminar_usuario_total:new r.NI("",[r.kI.required]),eliminar_contrasena_total:new r.NI("",[r.kI.required])}),this.button_aceptar="Aceptar",this.estado_aceptar=!0,console.log(this.data),null===(d=this.formulario_eliminar.get("nombre_producto"))||void 0===d||d.setValue(this.data.nombre),null===(s=this.formulario_eliminar.get("precio_producto"))||void 0===s||s.setValue(this.data.precio),null===(_=this.formulario_eliminar.get("cantidad_producto"))||void 0===_||_.setValue(this.data.cantidad)}ngOnInit(){let e={};e.id=this.data.id;let o=this,a=this.authenticationService.currentUserValue;console.log(a.Token);const n=a.Token.toString();this.servicio.enviar_seguro("Web_service/ws_estock_actualizar",e,n,2).pipe().subscribe(c=>{var d;null===(d=this.formulario_eliminar.get("stock_producto"))||void 0===d||d.setValue(c.stock),o.valor_maximo=parseInt(c.stock)})}cargar_datos(){console.log(this.data.idventa),console.log(this.formulario_eliminar.value);let e=this.formulario_eliminar.value,a={};a.id_detalle_venta=this.data.id,a.precio="",a.cantidad=e.cantidad_producto,a.usuario=e.eliminar_usuario_total,a.contrasena=e.eliminar_contrasena_total,this.estado_aceptar=!1,this.button_aceptar="Procesando...",console.log(a);let n=this,c=this.authenticationService.currentUserValue;console.log(c.Token);const d=c.Token.toString();this.servicio.enviar_seguro("Web_service/ws_editar_datos_detalle",a,d,2).pipe().subscribe(s=>{s.estado?(n.estado_aceptar=!0,n.button_aceptar="Aceptar",this.dialogRef.close(s),n._snackBar.open(s.mensaje,"",{duration:2e3})):(n.estado_aceptar=!0,n.button_aceptar="Aceptar",this.dialogRef.close(s),w().fire({icon:"error",title:"ERROR",text:s.mensaje}))})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(p.WI),t.Y36(Z.b),t.Y36(x.$),t.Y36(p.so),t.Y36(C.ux))},i.\u0275cmp=t.Xpm({type:i,selectors:[["editar-modal"]],decls:42,vars:4,consts:[[3,"formGroup","submit"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"row"],[1,"col-md-12"],[1,"form-group"],["type","text","required","true","readonly","true","formControlName","nombre_producto","id","nombre_producto",1,"form-control"],[1,"col-md-4"],["type","text","required","true","readonly","true","formControlName","precio_producto","id","precio_producto",1,"form-control"],["type","text","required","true","readonly","true","formControlName","stock_producto","id","stock_producto",1,"form-control"],["type","number","required","true","min","1","formControlName","cantidad_producto","id","cantidad_producto",1,"form-control",3,"max"],["id","eliminar_div_usuario_total",1,"col-md-6"],["type","text","formControlName","eliminar_usuario_total","autocomplete","off","id","eliminar_usuario_total","required","true",1,"form-control"],["id","eliminar_div_contrasena_total",1,"col-md-6"],["type","password","formControlName","eliminar_contrasena_total","autocomplete","off","id","eliminar_contrasena_total","required","true",1,"form-control"],["mat-dialog-actions",""],["type","submit",1,"btn","btn-danger",3,"disabled"],["mat-button","","type","button","mat-dialog-close",""]],template:function(e,o){1&e&&(t.TgZ(0,"form",0),t.NdJ("submit",function(){return o.cargar_datos()}),t.TgZ(1,"h1",1),t._uU(2,"Editar Pedido"),t.qZA(),t.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"label"),t._uU(8,"Producto"),t.qZA(),t._UZ(9,"input",6),t.qZA()()(),t.TgZ(10,"div",3)(11,"div",7)(12,"div",5)(13,"label"),t._uU(14,"Precio"),t.qZA(),t._UZ(15,"input",8),t.qZA()(),t.TgZ(16,"div",7)(17,"div",5)(18,"label"),t._uU(19,"Stock"),t.qZA(),t._UZ(20,"input",9),t.qZA()(),t.TgZ(21,"div",7)(22,"div",5)(23,"label"),t._uU(24,"Cantidad"),t.qZA(),t._UZ(25,"input",10),t.qZA()()(),t.TgZ(26,"div",3)(27,"div",11)(28,"div",5)(29,"label"),t._uU(30,"Usuario"),t.qZA(),t._UZ(31,"input",12),t.qZA()(),t.TgZ(32,"div",13)(33,"div",5)(34,"label"),t._uU(35,"Contrase\xf1a"),t.qZA(),t._UZ(36,"input",14),t.qZA()()()(),t.TgZ(37,"div",15)(38,"button",16),t._uU(39),t.qZA(),t.TgZ(40,"button",17),t._uU(41,"Cerrar"),t.qZA()()()),2&e&&(t.Q6J("formGroup",o.formulario_eliminar),t.xp6(25),t.Q6J("max",o.valor_maximo),t.xp6(13),t.Q6J("disabled",!o.formulario_eliminar.valid||!o.estado_aceptar),t.xp6(1),t.Oqu(o.button_aceptar))},directives:[r._Y,r.JL,r.sg,p.uh,p.xY,r.Fj,r.Q7,r.JJ,r.u,r.qQ,r.wV,r.Fd,p.H8,A.lW,p.ZT],encapsulation:2}),i})(),At=(()=>{class i{constructor(e,o,a,n,c){this.data=e,this.servicio=o,this.authenticationService=a,this.dialogRef=n,this._snackBar=c,this.formulario_eliminar=new r.cw({motivo_modal:new r.NI("",[r.kI.required]),eliminar_usuario_total:new r.NI("",[r.kI.required]),eliminar_contrasena_total:new r.NI("",[r.kI.required])}),this.button_aceptar="Aceptar",this.estado_aceptar=!0,console.log(this.data)}cargar_datos(){console.log(this.data.idventa),console.log(this.formulario_eliminar.value);let e=this.formulario_eliminar.value,a={};a.id_detalle_venta_modal=this.data.id,a.motivo=e.motivo_modal,a.eliminar_usuario_total=e.eliminar_usuario_total,a.eliminar_contrasena_total=e.eliminar_contrasena_total,this.estado_aceptar=!1,this.button_aceptar="Procesando...",console.log(a);let n=this,c=this.authenticationService.currentUserValue;console.log(c.Token);const d=c.Token.toString();this.servicio.enviar_seguro("Web_service/ws_eliminar_pedido_detalle",a,d,2).pipe().subscribe(s=>{s.estado?(n.estado_aceptar=!0,n.button_aceptar="Aceptar",this.dialogRef.close(s),n._snackBar.open(s.mensaje,"",{duration:2e3})):(n.estado_aceptar=!0,n.button_aceptar="Aceptar",this.dialogRef.close(s),w().fire({icon:"error",title:"ERROR",text:s.mensaje}))})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(p.WI),t.Y36(Z.b),t.Y36(x.$),t.Y36(p.so),t.Y36(C.ux))},i.\u0275cmp=t.Xpm({type:i,selectors:[["eliminar-detalle-modal"]],decls:25,vars:3,consts:[[3,"formGroup","submit"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"row"],[1,"col-md-12"],[1,"form-group"],["type","text","required","true","formControlName","motivo_modal","id","motivo_modal",1,"form-control"],["id","eliminar_div_usuario_total",1,"col-md-6"],["type","text","formControlName","eliminar_usuario_total","autocomplete","off","id","eliminar_usuario_total","required","true",1,"form-control"],["id","eliminar_div_contrasena_total",1,"col-md-6"],["type","password","formControlName","eliminar_contrasena_total","autocomplete","off","id","eliminar_contrasena_total","required","true",1,"form-control"],["mat-dialog-actions",""],["type","submit",1,"btn","btn-danger",2,"background-color","red","color","white",3,"disabled"],["mat-button","","type","button","mat-dialog-close",""]],template:function(e,o){1&e&&(t.TgZ(0,"form",0),t.NdJ("submit",function(){return o.cargar_datos()}),t.TgZ(1,"h1",1),t._uU(2,"Eliminar producto"),t.qZA(),t.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"label"),t._uU(8,"Ingrese el Motivo de Eliminar Pedido"),t.qZA(),t._UZ(9,"input",6),t.qZA()(),t.TgZ(10,"div",7)(11,"div",5)(12,"label"),t._uU(13,"Usuario"),t.qZA(),t._UZ(14,"input",8),t.qZA()(),t.TgZ(15,"div",9)(16,"div",5)(17,"label"),t._uU(18,"Contrase\xf1a"),t.qZA(),t._UZ(19,"input",10),t.qZA()()()(),t.TgZ(20,"div",11)(21,"button",12),t._uU(22),t.qZA(),t.TgZ(23,"button",13),t._uU(24,"Cerrar"),t.qZA()()()),2&e&&(t.Q6J("formGroup",o.formulario_eliminar),t.xp6(21),t.Q6J("disabled",!o.formulario_eliminar.valid||!o.estado_aceptar),t.xp6(1),t.Oqu(o.button_aceptar))},directives:[r._Y,r.JL,r.sg,p.uh,p.xY,r.Fj,r.Q7,r.JJ,r.u,p.H8,A.lW,p.ZT],encapsulation:2}),i})(),Ut=(()=>{class i{constructor(e,o,a,n,c){var d,s,_,g;this.data=e,this.servicio=o,this.authenticationService=a,this.dialogRef=n,this._snackBar=c,this.valor_maximo=100,this.habilidar_precio=!0,this.formulario_eliminar=new r.cw({nombre_producto:new r.NI("",[r.kI.required]),precio_producto:new r.NI("",[r.kI.required]),stock_producto:new r.NI("",[r.kI.required]),cantidad_producto:new r.NI("",[r.kI.required]),eliminar_usuario_total:new r.NI("",[r.kI.required]),eliminar_contrasena_total:new r.NI("",[r.kI.required]),descuento:new r.NI("1",[r.kI.required])}),this.total=0,this.button_aceptar="Aceptar",this.estado_aceptar=!0,console.log(this.data),this.total=this.data.cantidad,null===(d=this.formulario_eliminar.get("nombre_producto"))||void 0===d||d.setValue(this.data.nombre),null===(s=this.formulario_eliminar.get("precio_producto"))||void 0===s||s.setValue(this.data.precio),null===(_=this.formulario_eliminar.get("stock_producto"))||void 0===_||_.setValue(this.total-1),null===(g=this.formulario_eliminar.get("cantidad_producto"))||void 0===g||g.setValue(1)}cambio(e){var o,a;1==e?(null===(o=this.formulario_eliminar.get("precio_producto"))||void 0===o||o.setValue(this.data.precio),this.habilidar_precio=!0):(null===(a=this.formulario_eliminar.get("precio_producto"))||void 0===a||a.setValue(0),this.habilidar_precio=!1)}ngOnInit(){}actualizarcanje(){var e,o,a,n,c,d;if((null===(e=this.formulario_eliminar.get("cantidad_producto"))||void 0===e?void 0:e.value)>this.total)return null===(o=this.formulario_eliminar.get("cantidad_producto"))||void 0===o||o.setValue(1),null===(a=this.formulario_eliminar.get("stock_producto"))||void 0===a||a.setValue(this.total-1),!1;if(""!=(null===(n=this.formulario_eliminar.get("cantidad_producto"))||void 0===n?void 0:n.value.toString())){let s=this.total-(null===(c=this.formulario_eliminar.get("cantidad_producto"))||void 0===c?void 0:c.value);null===(d=this.formulario_eliminar.get("stock_producto"))||void 0===d||d.setValue(s)}return!1}cargar_datos(){console.log(this.data.idventa),console.log(this.formulario_eliminar.value);let e=this.formulario_eliminar.value,a={};a.id_detalle_canje=this.data.id,a.descuento=e.descuento,a.precio_canjeproducto=e.eliminar_usuario_total,a.preciocanje=e.precio_producto,a.estockcanje_productoi=e.stock_producto+e.cantidad_producto,a.estockcanje_producto=e.stock_producto,a.cantidadcanje=e.cantidad_producto,a.usuariocanje=e.eliminar_usuario_total,a.contrasenacanje=e.eliminar_contrasena_total,this.estado_aceptar=!1,this.button_aceptar="Procesando...",console.log(a);let n=this,c=this.authenticationService.currentUserValue;console.log(c.Token);const d=c.Token.toString();this.servicio.enviar_seguro("Web_service/ws_editar_canje_parte",a,d,2).pipe().subscribe(s=>{s.estado?(n.estado_aceptar=!0,n.button_aceptar="Aceptar",this.dialogRef.close(s),n._snackBar.open(s.mensaje,"",{duration:2e3})):(n.estado_aceptar=!0,n.button_aceptar="Aceptar",this.dialogRef.close(s),w().fire({icon:"error",title:"ERROR",text:s.mensaje}))})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(p.WI),t.Y36(Z.b),t.Y36(x.$),t.Y36(p.so),t.Y36(C.ux))},i.\u0275cmp=t.Xpm({type:i,selectors:[["caje-modal"]],decls:52,vars:4,consts:[[3,"formGroup","submit"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"row"],[1,"col-md-12"],[1,"form-group"],[1,"form-check"],["type","radio","formControlName","descuento","id","exampleRadios1","value","1","checked","",1,"form-check-input",3,"change"],["for","exampleRadios1",1,"form-check-label"],["type","radio","formControlName","descuento","id","exampleRadios2","value","2",1,"form-check-input",3,"change"],["for","exampleRadios2",1,"form-check-label"],["type","text","required","true","readonly","true","formControlName","nombre_producto","id","nombre_producto",1,"form-control"],[1,"col-md-4"],["type","number","step","0.01","required","true","formControlName","precio_producto","id","precio_producto",1,"form-control",3,"readonly"],["type","text","required","true","readonly","true","formControlName","stock_producto","id","stock_producto",1,"form-control"],["type","number","required","true","min","1","formControlName","cantidad_producto","id","cantidad_producto",1,"form-control",3,"change","keyup"],["id","eliminar_div_usuario_total",1,"col-md-6"],["type","text","formControlName","eliminar_usuario_total","autocomplete","off","id","eliminar_usuario_total","required","true",1,"form-control"],["id","eliminar_div_contrasena_total",1,"col-md-6"],["type","password","formControlName","eliminar_contrasena_total","autocomplete","off","id","eliminar_contrasena_total","required","true",1,"form-control"],["mat-dialog-actions",""],["type","submit",1,"btn","btn-danger",3,"disabled"],["mat-button","","type","button","mat-dialog-close",""]],template:function(e,o){1&e&&(t.TgZ(0,"form",0),t.NdJ("submit",function(){return o.cargar_datos()}),t.TgZ(1,"h1",1),t._uU(2,"Vale de consumo"),t.qZA(),t.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"input",7),t.NdJ("change",function(){return o.cambio(1)}),t.qZA(),t.TgZ(9,"label",8),t._uU(10," Des. Canje "),t.qZA()(),t.TgZ(11,"div",6)(12,"input",9),t.NdJ("change",function(){return o.cambio(2)}),t.qZA(),t.TgZ(13,"label",10),t._uU(14," Des. Soles "),t.qZA()()()(),t.TgZ(15,"div",4)(16,"div",5)(17,"label"),t._uU(18,"Producto"),t.qZA(),t._UZ(19,"input",11),t.qZA()()(),t.TgZ(20,"div",3)(21,"div",12)(22,"div",5)(23,"label"),t._uU(24,"Precio"),t.qZA(),t._UZ(25,"input",13),t.qZA()(),t.TgZ(26,"div",12)(27,"div",5)(28,"label"),t._uU(29,"Cantidad Total"),t.qZA(),t._UZ(30,"input",14),t.qZA()(),t.TgZ(31,"div",12)(32,"div",5)(33,"label"),t._uU(34,"Cantidad de canje"),t.qZA(),t.TgZ(35,"input",15),t.NdJ("change",function(){return o.actualizarcanje()})("keyup",function(){return o.actualizarcanje()}),t.qZA()()()(),t.TgZ(36,"div",3)(37,"div",16)(38,"div",5)(39,"label"),t._uU(40,"Usuario"),t.qZA(),t._UZ(41,"input",17),t.qZA()(),t.TgZ(42,"div",18)(43,"div",5)(44,"label"),t._uU(45,"Contrase\xf1a"),t.qZA(),t._UZ(46,"input",19),t.qZA()()()(),t.TgZ(47,"div",20)(48,"button",21),t._uU(49),t.qZA(),t.TgZ(50,"button",22),t._uU(51,"Cerrar"),t.qZA()()()),2&e&&(t.Q6J("formGroup",o.formulario_eliminar),t.xp6(25),t.Q6J("readonly",o.habilidar_precio),t.xp6(23),t.Q6J("disabled",!o.formulario_eliminar.valid||!o.estado_aceptar),t.xp6(1),t.Oqu(o.button_aceptar))},directives:[r._Y,r.JL,r.sg,p.uh,p.xY,r._,r.Fj,r.JJ,r.u,r.Q7,r.wV,r.qQ,p.H8,A.lW,p.ZT],encapsulation:2}),i})();var qt=u(3470),q=u(3638);function jt(i,l){1&i&&(t.TgZ(0,"div",37)(1,"h4",38),t._uU(2,"Usted no tiene permiso de abrir caja"),t.qZA()())}function kt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"button",41),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).cerrar_sesion()}),t._uU(1,"Abrir caja"),t.qZA()}}function yt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"button",42),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).open()}),t._uU(1,"Cerrar caja"),t.qZA()}}function wt(i,l){if(1&i&&(t.TgZ(0,"div",2),t.YNc(1,kt,2,0,"button",39),t.YNc(2,yt,2,0,"ng-template",null,40,t.W1O),t.qZA()),2&i){const e=t.MAs(3),o=t.oxw();t.xp6(1),t.Q6J("ngIf",2==o.estado_caja)("ngIfElse",e)}}function Nt(i,l){if(1&i&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.ALo(7,"number"),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.ALo(10,"number"),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.ALo(13,"number"),t.qZA()()),2&i){const e=l.$implicit;t.xp6(2),t.Oqu(e.descripcion),t.xp6(2),t.Oqu(e.transacciones),t.xp6(2),t.hij("S/ ",t.xi3(7,5,e.ingreso,"1.2"),""),t.xp6(3),t.hij("S/ ",t.xi3(10,8,e.egreso,"1.2"),""),t.xp6(3),t.hij("S/ ",t.xi3(13,11,e.total,"1.2"),"")}}let Mt=(()=>{class i{constructor(e,o,a,n,c){this.dialog=e,this.modalService=o,this.router=a,this.authenticationService=n,this.servicio=c,this.Highcharts=qt,this.chartOptions={},this.closeResult="",this.chart=new q.kL({chart:{type:"line"},title:{text:"Reporte de Caja Fisica del d\xeda"},credits:{enabled:!1},series:[{}]}),this.chart1=new q.kL({chart:{type:"line"},title:{text:"Reporte de Caja Virtual del d\xeda"},credits:{enabled:!1},series:[{}]}),this.cajafisica=0,this.cajavirtual=0,this.fecha_actual="",this.mov_f="0",this.mov_v="0",this.cajaingf=0,this.cajaingv=0,this.cajaegrf=0,this.cajaegrv=0,this.estadosesioncaja=-1,this.estado_caja=0,this.pagos_mov=[],this.total=0,this.saldoinicialf=0,this.saldoinicialv=0}openDialog(){this.dialog.open(Ot,{maxWidth:"600px"})}cerrar_sesion(){let e=this;this.modalService.open(St,{ariaLabelledBy:"modal-basic-title",size:"md"}).result.then(a=>{a&&e.cargar_inicial()})}open(){let e=this;const o=this.modalService.open(Pt,{backdrop:"static",keyboard:!1,ariaLabelledBy:"modal-basic-title",size:"md"});o.componentInstance.name={ingresosf:e.saldoinicialf,ingresosv:e.saldoinicialv},o.result.then(a=>{a&&e.cargar_inicial()})}getDismissReason(e){return e===f.If.ESC?"by pressing ESC":e===f.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${e}`}ngOnInit(){this.cargar_inicial()}cargar_inicial(){let e=this,o=this.authenticationService.currentUserValue;console.log(o.Token);const a=o.Token.toString();this.servicio.enviar_seguro("Web_service/ws_informacion_caja",{},a,2).pipe().subscribe(n=>{e.cargar_caja_fisica(n.caja2,n.caja1),e.fecha_actual=n.fecha_dia,e.mov_f=n.movif,e.mov_v=n.moviv,e.estadosesioncaja=parseInt(n.estadosesioncaja),e.estado_caja=parseInt(n.estado_caja),e.pagos_mov=n.array_formapago,e.cajaingf=parseFloat(n.ingresosf),e.cajaingv=parseFloat(n.ingresosv),e.cajaegrf=parseFloat(n.egresosf),e.cajaegrv=parseFloat(n.egresosv),e.saldoinicialf=parseFloat(n.saldoinicialf),e.saldoinicialv=parseFloat(n.saldoinicialv),e.cajafisica=e.saldoinicialf+e.cajaingf-e.cajaegrf,e.cajavirtual=e.saldoinicialv+e.cajaingv-e.cajaegrv,e.pagos_mov.forEach(c=>{e.total+=parseFloat(c.total)})})}cargar_caja_fisica(e,o){let a=this,n=this.authenticationService.currentUserValue;console.log(n.Token);const c=n.Token.toString();let d={};d.cajafisica=e,d.cajavirtual=o,this.servicio.enviar_seguro("Web_service/ws_sesion_traerfisica",d,c).pipe().subscribe(s=>{console.log(s),a.chart=new q.kL({chart:{type:"spline"},title:{text:"Reporte de Caja Fisica del d\xeda"},subtitle:{text:""},xAxis:{type:"datetime",dateTimeLabelFormats:{minute:"%H:%M",hour:"%H:%M",month:"%e. %b",year:"%b"},title:{text:"Date"}},yAxis:{title:{text:"Soles (S/.)"},min:0},tooltip:{headerFormat:"<b>{series.name}</b><br>",pointFormat:"{point.x:%e. %b %H:%M}: S/. {point.y:.2f}"},plotOptions:{spline:{marker:{enabled:!0}}},colors:["#6CF","#39F","#06C","#036","#000"],series:[s.data.compras,s.data.ventas]})}),d.cajafisica=e,d.cajavirtual=o,this.servicio.enviar_seguro("Web_service/ws_sesion_traervirtual",d,c).pipe().subscribe(s=>{console.log(s),a.chart1=new q.kL({chart:{type:"spline"},title:{text:"Reporte de Caja Virtual del d\xeda"},subtitle:{text:""},xAxis:{type:"datetime",dateTimeLabelFormats:{minute:"%H:%M",hour:"%H:%M",month:"%e. %b",year:"%b"},title:{text:"Date"}},yAxis:{title:{text:"Soles (S/.)"},min:0},tooltip:{headerFormat:"<b>{series.name}</b><br>",pointFormat:"{point.x:%e. %b %H:%M}: S/. {point.y:.2f}"},plotOptions:{spline:{marker:{enabled:!0}}},colors:["#6CF","#39F","#06C","#036","#000"],series:[s.data.compras,s.data.ventas]})})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(p.uw),t.Y36(f.FF),t.Y36(b.F0),t.Y36(x.$),t.Y36(Z.b))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-sesion-caja"]],decls:131,vars:43,consts:[[1,"row"],[1,"col-md-12"],[1,"col-md-2"],["mat-raised-button","",1,"btn-block",2,"background-color","#ffb22b","color","white",3,"click"],["class","col-md-10",4,"ngIf","ngIfElse"],["elseBlock",""],[1,"col-md-8"],[1,"col-md-6"],[1,"panel","card-view","panel-primary"],[1,"panel-heading"],[1,"pull-left",2,"text-align","center"],[2,"margin-bottom","0px","padding-bottom","0px","align-content","center","padding","20px 15px !important"],[1,"clearfix"],[1,"panel-body"],[2,"width","100%","text-align","center"],[2,"font-weight","bold","font-size","23px"],["type","hidden","name","ingresosf","id","ingresosf","value","0.00"],["type","hidden","name","cajafisica","id","cajafisica","value","361"],["type","hidden","name","cajavirtual","id","cajavirtual","value","362"],[1,"pull-left"],[2,"padding","20px 15px !important","margin-bottom","0px","padding-bottom","0px"],[1,"panel","card-view","panel-success"],[2,"margin-bottom","0px","padding","20px 15px !important"],[2,"margin-bottom","0px","padding-bottom","0px","padding","20px 15px !important"],[1,"table-responsive"],[1,"table","mb-0"],[4,"ngFor","ngForOf"],["colspan","4"],[2,"font-weight","bold","font-size","15px"],[1,"col-md-4"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"panel","panel-default","card-view","panel-refresh"],[1,"refresh-container"],[1,"la-anim-1"],[2,"margin-bottom","0px","padding-bottom","0px"],[1,"panel-wrapper"],[3,"chart"],[1,"col-md-10"],[1,"lead"],["class","btn-block","style","background-color: #509d44;color: white;","mat-raised-button","",3,"click",4,"ngIf","ngIfElse"],["elseBlock2",""],["mat-raised-button","",1,"btn-block",2,"background-color","#509d44","color","white",3,"click"],["mat-raised-button","",1,"btn-block",2,"background-color","red","color","white",3,"click"]],template:function(e,o){if(1&e&&(t.TgZ(0,"mat-card")(1,"div",0)(2,"div",1)(3,"h2"),t._uU(4," Sesi\xf3n de Caja"),t.qZA()()(),t.TgZ(5,"div",0)(6,"div",2)(7,"button",3),t.NdJ("click",function(){return o.openDialog()}),t._uU(8,"Arqueo"),t.qZA()(),t.YNc(9,jt,3,0,"div",4),t.YNc(10,wt,4,2,"ng-template",null,5,t.W1O),t.qZA(),t._UZ(12,"br"),t.TgZ(13,"div",0)(14,"div",6)(15,"div",0)(16,"div",7)(17,"div",8)(18,"div",9)(19,"div",10)(20,"h4",11),t._uU(21),t.ALo(22,"date"),t.qZA()(),t._UZ(23,"div",12),t.qZA(),t.TgZ(24,"div",13)(25,"div",14)(26,"h3",15),t._uU(27),t.ALo(28,"number"),t.qZA()(),t._UZ(29,"input",16)(30,"input",17)(31,"input",18),t.TgZ(32,"div",0)(33,"div",7),t._uU(34," Ingresos: "),t.TgZ(35,"label"),t._uU(36),t.ALo(37,"number"),t.qZA()(),t.TgZ(38,"div",7),t._uU(39," Egresos: "),t.TgZ(40,"label"),t._uU(41),t.ALo(42,"number"),t.qZA()()()(),t.TgZ(43,"div",9)(44,"div",19)(45,"h3",20),t._uU(46),t.qZA()(),t._UZ(47,"div",12),t.qZA()()(),t.TgZ(48,"div",7)(49,"div",21)(50,"div",9)(51,"div",19)(52,"h4",22),t._uU(53),t.ALo(54,"date"),t.qZA()(),t._UZ(55,"div",12),t.qZA(),t.TgZ(56,"div",13)(57,"div",14)(58,"h3",15),t._uU(59),t.ALo(60,"number"),t.qZA()(),t._UZ(61,"input",16)(62,"input",17)(63,"input",18),t.TgZ(64,"div",0)(65,"div",7),t._uU(66," Ingresos: "),t.TgZ(67,"label"),t._uU(68),t.ALo(69,"number"),t.qZA()(),t.TgZ(70,"div",7),t._uU(71," Egresos: "),t.TgZ(72,"label"),t._uU(73),t.ALo(74,"number"),t.qZA()()()(),t.TgZ(75,"div",9)(76,"div",19)(77,"h3",23),t._uU(78),t.qZA()(),t._UZ(79,"div",12),t.qZA()()()(),t.TgZ(80,"div",0)(81,"div",1)(82,"div",24)(83,"table",25)(84,"thead")(85,"tr")(86,"th"),t._uU(87,"Formas de Pago"),t.qZA(),t.TgZ(88,"th"),t._uU(89,"Transacciones"),t.qZA(),t.TgZ(90,"th"),t._uU(91,"Ingreso(0)"),t.qZA(),t.TgZ(92,"th"),t._uU(93,"Egreso(0)"),t.qZA(),t.TgZ(94,"th"),t._uU(95,"Total"),t.qZA()()(),t.TgZ(96,"tbody"),t.YNc(97,Nt,14,14,"tr",26),t.TgZ(98,"tr")(99,"td",27),t._uU(100,"Total Neto"),t.qZA(),t.TgZ(101,"td")(102,"b",28),t._uU(103),t.ALo(104,"number"),t.qZA()()()()()()()()(),t.TgZ(105,"div",29)(106,"div",0)(107,"div",30)(108,"div",31)(109,"div",32),t._UZ(110,"div",33),t.qZA(),t.TgZ(111,"div",9)(112,"div",19)(113,"h4",34),t._uU(114,"Caja Fisica"),t.qZA()(),t._UZ(115,"div",12),t.qZA(),t.TgZ(116,"div",35),t._UZ(117,"div",36),t.qZA()()()()(),t.TgZ(118,"div",29)(119,"div",0)(120,"div",30)(121,"div",31)(122,"div",32),t._UZ(123,"div",33),t.qZA(),t.TgZ(124,"div",9)(125,"div",19)(126,"h4",34),t._uU(127,"Caja Virtual"),t.qZA()(),t._UZ(128,"div",12),t.qZA(),t.TgZ(129,"div",35),t._UZ(130,"div",36),t.qZA()()()()()()()),2&e){const a=t.MAs(11);t.xp6(9),t.Q6J("ngIf",2==o.estadosesioncaja||3==o.estadosesioncaja||-1==o.estadosesioncaja)("ngIfElse",a),t.xp6(12),t.hij(" Caja Fisica el ",t.xi3(22,16,o.fecha_actual,"fullDate"),""),t.xp6(6),t.hij("S/ ",t.xi3(28,19,o.cajafisica,"1.2"),""),t.xp6(9),t.hij("S/ ",t.xi3(37,22,o.cajaingf,"1.2"),""),t.xp6(5),t.hij("S/ ",t.xi3(42,25,o.cajaegrf,"1.2"),""),t.xp6(5),t.hij("",o.mov_f," Transacciones"),t.xp6(7),t.hij(" Caja Virtual el ",t.xi3(54,28,o.fecha_actual,"fullDate")," "),t.xp6(6),t.hij("S/ ",t.xi3(60,31,o.cajavirtual,"1.2"),""),t.xp6(9),t.hij("S/ ",t.xi3(69,34,o.cajaingv,"1.2"),""),t.xp6(5),t.hij(" ",t.xi3(74,37,o.cajaegrv,"1.2"),""),t.xp6(5),t.hij("",o.mov_v," Transacciones"),t.xp6(19),t.Q6J("ngForOf",o.pagos_mov),t.xp6(6),t.hij("S/ ",t.xi3(104,40,o.total,"1.2"),""),t.xp6(14),t.Q6J("chart",o.chart),t.xp6(13),t.Q6J("chart",o.chart1)}},directives:[k.a8,A.lW,v.O5,v.sg,q.Dm],pipes:[v.uU,v.JJ],styles:[".panel[_ngcontent-%COMP%]{position:relative;background-color:#fff;border:0 solid transparent}.panel-primary[_ngcontent-%COMP%], .panel-info[_ngcontent-%COMP%], .panel-success[_ngcontent-%COMP%], .panel-warning[_ngcontent-%COMP%], .panel-danger[_ngcontent-%COMP%], .panel-dark[_ngcontent-%COMP%]{border:none}.panel-primary[_ngcontent-%COMP%] > .panel-heading[_ngcontent-%COMP%]{color:#fff;background-color:#3f51b5;border-color:#3f51b5}.panel-heading[_ngcontent-%COMP%]{position:relative;padding:0;border-bottom:1px solid transparent;border-top-right-radius:.214rem;border-top-left-radius:.214rem}.panel[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(.panel-loading):not(.collapsing){transition:opacity .3s}.panel-title[_ngcontent-%COMP%]{display:block;margin-top:0;margin-bottom:0;padding:20px 30px!important;font-size:18px;color:#424242}.panel-primary[_ngcontent-%COMP%]   .panel-title[_ngcontent-%COMP%], .panel-info[_ngcontent-%COMP%]   .panel-title[_ngcontent-%COMP%], .panel-success[_ngcontent-%COMP%]   .panel-title[_ngcontent-%COMP%], .panel-warning[_ngcontent-%COMP%]   .panel-title[_ngcontent-%COMP%], .panel-danger[_ngcontent-%COMP%]   .panel-title[_ngcontent-%COMP%], .panel-dark[_ngcontent-%COMP%]   .panel-title[_ngcontent-%COMP%]{color:#fff}.panel-success[_ngcontent-%COMP%] > .panel-heading[_ngcontent-%COMP%]{color:#fff;background-color:#509d44!important;border-color:#509d44!important}"]}),i})(),Pt=(()=>{class i{constructor(e,o,a,n,c){this._snackBar=e,this.authenticationService=o,this.servicio=a,this.activeModal=n,this.modal=c,this.button_disabled=!1,this.button_descripcion=" Si, Cerrar caja ahora"}ngOnInit(){console.log(this.name),this.info=this.name}procesar_cierre(){let e=this;e.button_disabled=!0,e.button_descripcion="Procesando...";let o=this.authenticationService.currentUserValue;console.log(o.Token);const a=o.Token.toString();let n={};n.ingresosf=parseFloat(e.info.ingresosf),n.ingresosv=parseFloat(e.info.ingresosv),this.servicio.enviar_seguro("Web_service/ws_cerrar_sesion_caja",n,a,2).pipe().subscribe(c=>{c.estado&&(this._snackBar.open("Se cerro correctamente caja","",{duration:1e3}),e.button_disabled=!1,e.button_descripcion=" Si, Cerrar caja ahora",e.modal.close(!0))})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(C.ux),t.Y36(x.$),t.Y36(Z.b),t.Y36(f.Kz),t.Y36(f.Kz))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-sesion-caja1"]],inputs:{name:"name"},decls:20,vars:2,consts:[[1,"modal-header"],[1,"modal-title",2,"font-weight","bold"],[1,"fa","fa-comments-o"],["align","center",1,"modal-body"],[1,"alert","alert-success"],[1,"default"],["type","button",1,"btn","btn-danger",3,"click"],["type","button","id","btn_cierrecaja",1,"btn","btn-primary",2,"margin-left","2px",3,"disabled","click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"h4",1),t._UZ(2,"i",2),t._uU(3," !Confirmar cierre de caja\xa1 "),t.qZA()(),t.TgZ(4,"div",3)(5,"div",4)(6,"strong",5),t._uU(7," ATENCI\xd3N ADMINISTRADOR DE CAJA:"),t.qZA(),t._uU(8," Compruebe que los montos de cada empleado fueron entregados correctamente "),t._UZ(9,"br"),t.TgZ(10,"strong",5),t._uU(11,"DEBE DEJAR TODO EN ORDEN PARA EL PROXIMO CAJERO"),t.qZA()(),t.TgZ(12,"h4")(13,"b"),t._uU(14,"\xbfSeguro desea cerrar caja?"),t.qZA()(),t._UZ(15,"br"),t.TgZ(16,"button",6),t.NdJ("click",function(){return o.modal.close(!1)}),t._uU(17,"Cancelar"),t.qZA(),t.TgZ(18,"button",7),t.NdJ("click",function(){return o.procesar_cierre()}),t._uU(19),t.qZA()()),2&e&&(t.xp6(18),t.Q6J("disabled",o.button_disabled),t.xp6(1),t.hij(" ",o.button_descripcion," "))},encapsulation:2}),i})(),St=(()=>{class i{constructor(e,o,a,n,c){this._snackBar=e,this.authenticationService=o,this.servicio=a,this.activeModal=n,this.modal=c,this.button_disabled=!1,this.button_descripcion="Abrir caja",this.form=new r.cw({inicio_caja:new r.Oe([new r.NI("0"),new r.NI("0")])})}ngOnInit(){}onSubmit(){console.log(this.form.value);let e=this;e.button_disabled=!0,e.button_descripcion="Procesando...";let o=this.authenticationService.currentUserValue;console.log(o.Token);const a=o.Token.toString();this.servicio.enviar_seguro("Web_service/ws_cerrar_sesion_apertura_caja",this.form.value,a,2).pipe().subscribe(c=>{c.estado&&(this._snackBar.open("Se abrio correctamente caja","",{duration:1e3}),e.button_disabled=!1,e.button_descripcion="Abrir caja",e.modal.close(!0))})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(C.ux),t.Y36(x.$),t.Y36(Z.b),t.Y36(f.Kz),t.Y36(f.Kz))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-sesion-caja2"]],inputs:{name:"name"},decls:22,vars:5,consts:[[3,"formGroup","ngSubmit"],[1,"modal-header"],["id","myModalLabel",1,"modal-title",2,"font-weight","bold"],["type","button","data-dismiss","modal","aria-hidden","true",1,"close",3,"click"],[1,"modal-body"],[1,"row"],["formArrayName","inicio_caja",2,"width","100%"],[1,"col-md-12"],[1,"form-group"],[2,"font-weight","bold"],["type","number","value","0","id","inicio_caja_fisica","width","100%",1,"form-control",3,"formControlName"],["type","number","value","0","id","inicio_caja_virtual","width","100%",1,"form-control",3,"formControlName"],[1,"modal-footer"],["type","submit","id","abrir_caja",1,"btn","btn-info",3,"disabled"]],template:function(e,o){1&e&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return o.onSubmit()}),t.TgZ(1,"div",1)(2,"h3",2),t._uU(3,"Abrir Caja"),t.qZA(),t.TgZ(4,"button",3),t.NdJ("click",function(){return o.modal.close(!1)}),t._uU(5,"\xd7"),t.qZA()(),t.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"label",9),t._uU(12,"Inicio caja fisica"),t.qZA(),t._UZ(13,"input",10),t.qZA()(),t.TgZ(14,"div",7)(15,"div",8)(16,"label",9),t._uU(17,"Inicio caja virtual"),t.qZA(),t._UZ(18,"input",11),t.qZA()()()()(),t.TgZ(19,"div",12)(20,"button",13),t._uU(21),t.qZA()()()),2&e&&(t.Q6J("formGroup",o.form),t.xp6(13),t.Q6J("formControlName",0),t.xp6(5),t.Q6J("formControlName",1),t.xp6(2),t.Q6J("disabled",o.button_disabled),t.xp6(1),t.Oqu(o.button_descripcion))},directives:[r._Y,r.JL,r.sg,r.CE,r.wV,r.Fj,r.JJ,r.u],encapsulation:2}),i})(),Ot=(()=>{class i{constructor(e,o,a){this.dialogRef=e,this.servicio=o,this.authenticationService=a}ngOnInit(){}arqueo(){const o=this.authenticationService.currentUserValue.Token.toString();return window.open(this.servicio.url_global+"Sesion_caja/cargar_detalle_pagos_nuevo/"+o),this.dialogRef.close(),0}arqueo1(){const o=this.authenticationService.currentUserValue.Token.toString();return window.open(this.servicio.url_global+"Sesion_caja/llamarfuncion_nuevo/1/"+o),this.dialogRef.close(),0}arqueo2(){const o=this.authenticationService.currentUserValue.Token.toString();return window.open(this.servicio.url_global+"Sesion_caja/llamarfuncion_nuevo/2/"+o),this.dialogRef.close(),0}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(p.so),t.Y36(Z.b),t.Y36(x.$))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-sesion-caja3"]],decls:13,vars:0,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","",2,"background-color","#509d44","color","white",3,"click"],["mat-raised-button","",2,"background-color","#ffc107","color","white",3,"click"],["mat-raised-button","","mat-dialog-close","","color","warn"]],template:function(e,o){1&e&&(t.TgZ(0,"h1",0),t._uU(1,"\xbfQue desea Hacer?"),t.qZA(),t.TgZ(2,"div",1),t._uU(3,"Por favor seleccione una opci\xf3n!"),t.qZA(),t.TgZ(4,"div",2)(5,"button",3),t.NdJ("click",function(){return o.arqueo()}),t._uU(6,"Arqueo"),t.qZA(),t.TgZ(7,"button",4),t.NdJ("click",function(){return o.arqueo2()}),t._uU(8,"Pdf"),t.qZA(),t.TgZ(9,"button",5),t.NdJ("click",function(){return o.arqueo1()}),t._uU(10,"Imprimir"),t.qZA(),t.TgZ(11,"button",6),t._uU(12,"Cancelar"),t.qZA()())},directives:[p.uh,p.xY,p.H8,A.lW,p.ZT],encapsulation:2}),i})(),Q=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-gestionmovimiento"]],decls:2,vars:0,template:function(e,o){1&e&&(t.TgZ(0,"p"),t._uU(1,"gestionmovimiento works!"),t.qZA())},styles:[""]}),i})();const It=[{path:"",data:{title:"Venta"},children:[{path:"gestionmovimiento/lista",component:Q,data:{title:"lista Concepto"}},{path:"historialcaja/lista",component:(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-historialcaja"]],decls:2,vars:0,template:function(e,o){1&e&&(t.TgZ(0,"p"),t._uU(1,"historialcaja works!"),t.qZA())},styles:[""]}),i})(),data:{title:"lista Concepto"}},{path:"concepto/lista",component:G,data:{title:"lista Concepto"}},{path:"concepto/nuevo",component:E,data:{title:"NUEVO CONCEPTO"}},{path:"concepto/editar/:id",component:E,data:{title:"EDITAR CONCEPTO"}},{path:"pedido",component:Zt,data:{title:"NUEVO PEDIDO"}},{path:"sesion_caja",component:Mt,data:{title:"SESION DE CAJA"}},{path:"movimiento",component:Q,data:{title:"SESION DE CAJA"}}]}];let Jt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[b.Bz.forChild(It)],b.Bz]}),i})();var Ft=u(4847),Et=u(6087),Yt=u(9464);let Rt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({}),i})();const m=void 0,zt=["es-PE",[["a.\xa0m.","p.\xa0m."],m,m],m,[["d","l","m","m","j","v","s"],["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],[["D","L","M","M","J","V","S"],["dom.","lun.","mar.","mi\xe9.","jue.","vie.","s\xe1b."],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","set.","oct.","nov.","dic."],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","setiembre","octubre","noviembre","diciembre"]],[["E","F","M","A","M","J","J","A","S","O","N","D"],["Ene.","Feb.","Mar.","Abr.","May.","Jun.","Jul.","Ago.","Set.","Oct.","Nov.","Dic."],["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Setiembre","Octubre","Noviembre","Diciembre"]],[["a. C.","d. C."],m,["antes de Cristo","despu\xe9s de Cristo"]],0,[6,0],["d/MM/yy","d MMM y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}",m,"{1}, {0}",m],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","\xa4\xa0#,##0.00","#E0"],"PEN","S/","sol peruano",{AUD:[m,"$"],BRL:[m,"R$"],CAD:[m,"$"],CNY:[m,"\xa5"],ESP:["\u20a7"],EUR:[m,"\u20ac"],FKP:[m,"FK\xa3"],GBP:[m,"\xa3"],HKD:[m,"$"],ILS:[m,"\u20aa"],INR:[m,"\u20b9"],JPY:[m,"\xa5"],KRW:[m,"\u20a9"],MXN:[m,"$"],NZD:[m,"$"],PEN:["S/"],PHP:[m,"\u20b1"],RON:[m,"L"],SSP:[m,"SD\xa3"],SYP:[m,"S\xa3"],TWD:[m,"NT$"],USD:[m,"$"],VEF:[m,"BsF"],VND:[m,"\u20ab"],XAF:[],XCD:[m,"$"],XOF:[]},"ltr",function Dt(i){return 1===i?1:5}];(new O._n1).setLocale(P.Z),(0,v.qS)(zt,"es-Pe");let Lt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({providers:[{provide:t.soG,useValue:"es-Pe"},v.H9],imports:[[p.Is,C.ZX,O.mR9.forRoot(),q.SD,Rt,S.vV,f.IJ,b.Bz,F.LD,r.u5,r.UX,k.QW,Jt,Yt.r,A.ot,L.Ps,J.c,v.ez,y.lN,Ft.JX,Et.TU,M.p0,z.t,H.Cq,N.Tx,D.g]]}),i})()}}]);