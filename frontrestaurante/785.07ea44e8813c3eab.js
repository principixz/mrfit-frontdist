"use strict";(self.webpackChunkfrontrestaurante=self.webpackChunkfrontrestaurante||[]).push([[785],{7890:(J,E,n)=>{n.d(E,{ci:()=>_});var m=n(6346),d=n(4847),C=n(6087),t=n(5e3),g=n(325),Z=n(7261),D=n(2957),v=n(8966),O=n(9458),U=n(7423),y=n(7322),h=n(7531),e=n(9808),T=n(5245);function M(o,i){1&o&&(t.TgZ(0,"th",21),t._uU(1," ID "),t.qZA())}function P(o,i){if(1&o&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&o){const a=i.index;t.xp6(1),t.hij(" ",a+1," ")}}function I(o,i){if(1&o&&(t.TgZ(0,"th",21),t._uU(1),t.qZA()),2&o){const a=t.oxw().index,l=t.oxw();t.xp6(1),t.hij(" ",l.nombrecolumna[a]," ")}}function Y(o,i){if(1&o&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&o){const a=i.$implicit,l=t.oxw().$implicit;t.xp6(1),t.hij(" ",a[l],"")}}function B(o,i){1&o&&(t.ynx(0,23),t.YNc(1,I,2,1,"th",12),t.YNc(2,Y,2,1,"td",24),t.BQk()),2&o&&t.Q6J("matColumnDef",i.$implicit)}function x(o,i){1&o&&(t.TgZ(0,"th",21),t._uU(1," Opciones "),t.qZA())}function N(o,i){if(1&o){const a=t.EpF();t.TgZ(0,"td",26)(1,"mat-icon",27),t.NdJ("click",function(){const p=t.CHM(a).$implicit;return t.oxw().editarboton(p.id)}),t._uU(2,"create_outline"),t.qZA(),t.TgZ(3,"mat-icon",28),t.NdJ("click",function(){const p=t.CHM(a).$implicit;return t.oxw().eliminarboton(p.id)}),t._uU(4,"delete_outline"),t.qZA()()}}function R(o,i){1&o&&t._UZ(0,"tr",29)}function L(o,i){1&o&&t._UZ(0,"tr",30)}const c=function(){return[10,25,100]};let _=(()=>{class o{constructor(a,l,u,p,b,A){this.route=a,this.router=l,this._snackBar=u,this.authenticationService=p,this.dialog=b,this.servicio=A,this.titulo_modulo="",this.columnas=[],this.filasource=new m.by,this.nombrecolumna=[],this.url_eliminar="",this.url_nuevo="",this.url_editar="",this.columntem=[],this.options={timeOut:3e3,showProgressBar:!0,pauseOnHover:!0,clickToClose:!0}}ngAfterViewInit(){}openDialog(a){this.dialog.open(r).afterClosed().subscribe(p=>{if(console.log(p),"si"==p){let b=this.filasource.data;b=b.filter(S=>S.id!=a),this.filasource=new m.by(b);let A=this,w=this.authenticationService.currentUserValue;console.log(w.Token);const W=w.Token.toString();this.servicio.enviar_seguro(this.url_eliminar,{id:a},W).pipe().subscribe(S=>{A._snackBar.open(S.mensaje,"",{duration:2e3}),A.filasource.paginator=this.paginator,A.filasource.sort=this.sort})}})}ngOnChanges(a){console.log(a.filasource.currentValue.data.length),a.filasource.currentValue.data.length>0&&(console.log(this.filasource),this.filasource.paginator=this.paginator,this.filasource.sort=this.sort)}ngOnInit(){let a=this;this.columnas.forEach(l=>{a.columntem.push(l)}),console.log(this.columntem),this.columnas.unshift("id"),this.columnas.push("opcion")}applyFilter(a){a=(a=a.trim()).toLowerCase(),this.filasource.filter=a}editarboton(a){this.router.navigate([this.url_editar+a])}eliminarboton(a){this.openDialog(a)}}return o.\u0275fac=function(a){return new(a||o)(t.Y36(g.gz),t.Y36(g.F0),t.Y36(Z.ux),t.Y36(D.$h),t.Y36(v.uw),t.Y36(O.b))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-datablematerial"]],viewQuery:function(a,l){if(1&a&&(t.Gf(C.NW,5),t.Gf(d.YE,5)),2&a){let u;t.iGM(u=t.CRH())&&(l.paginator=u.first),t.iGM(u=t.CRH())&&(l.sort=u.first)}},inputs:{titulo_modulo:"titulo_modulo",columnas:"columnas",filasource:"filasource",nombrecolumna:"nombrecolumna",url_eliminar:"url_eliminar",url_nuevo:"url_nuevo",url_editar:"url_editar"},features:[t.TTD],decls:29,vars:8,consts:[[1,"row"],[1,"col-md-12"],[2,"font-weight","bold","font-size","25px","color","black"],[1,"col-md-3"],["mat-raised-button","",2,"background-color","#039be5","color","white",3,"routerLink"],[1,"col-md-7"],[1,"col-md-2"],["fxLayout","row",1,"example-header"],["matInput","","placeholder","Buscar",3,"keyup"],[1,"mat-elevation-z2"],["mat-table","","matSort","",2,"width","100% !important",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","","data-label","id",4,"matCellDef"],[3,"matColumnDef",4,"ngFor","ngForOf"],["matColumnDef","opcion"],["mat-cell","","fxHide","","fxShow.gt-xs","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],["paginator",""],["mat-header-cell","","mat-sort-header",""],["mat-cell","","data-label","id"],[3,"matColumnDef"],["mat-cell","",4,"matCellDef"],["mat-cell",""],["mat-cell","","fxHide","","fxShow.gt-xs",""],["mat-raised-button","","aria-label","Example home icon","title","Editar registro",2,"color","royalblue","cursor","pointer",3,"click"],["title","Eliminar registro","aria-label","Example home icon","matTooltip","Eliminar registro",2,"color","red","cursor","pointer",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(a,l){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),t._uU(3),t.qZA()()(),t._UZ(4,"br"),t.TgZ(5,"div",0)(6,"div",3)(7,"button",4),t._uU(8,"Nuevo"),t.qZA()(),t._UZ(9,"div",5),t.TgZ(10,"div",6)(11,"div",7)(12,"mat-form-field")(13,"input",8),t.NdJ("keyup",function(p){return l.applyFilter(p.target.value)}),t.qZA()()()()(),t.TgZ(14,"div",0)(15,"div",1)(16,"div",9)(17,"table",10),t.ynx(18,11),t.YNc(19,M,2,0,"th",12),t.YNc(20,P,2,1,"td",13),t.BQk(),t.YNc(21,B,3,1,"ng-container",14),t.ynx(22,15),t.YNc(23,x,2,0,"th",12),t.YNc(24,N,5,0,"td",16),t.BQk(),t.YNc(25,R,1,0,"tr",17),t.YNc(26,L,1,0,"tr",18),t.qZA(),t._UZ(27,"mat-paginator",19,20),t.qZA()()()),2&a&&(t.xp6(3),t.Oqu(l.titulo_modulo),t.xp6(4),t.Q6J("routerLink",l.url_nuevo),t.xp6(10),t.Q6J("dataSource",l.filasource),t.xp6(4),t.Q6J("ngForOf",l.columntem),t.xp6(4),t.Q6J("matHeaderRowDef",l.columnas),t.xp6(1),t.Q6J("matRowDefColumns",l.columnas),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(7,c)))},directives:[U.lW,g.rH,y.KE,h.Nt,m.BZ,m.w1,m.fO,m.ge,m.Dz,m.ev,e.sg,T.Hw,m.as,m.XQ,m.nj,m.Gk,C.NW],styles:["table[_ngcontent-%COMP%]{width:100%}body[_ngcontent-%COMP%]{font-family:Covered By Your Grace,cursive;line-height:1.25}"]}),o})(),r=(()=>{class o{}return o.\u0275fac=function(a){return new(a||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["eliminar-modal"]],decls:9,vars:1,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","",2,"background-color","red","color","white",3,"mat-dialog-close"],["mat-button","","mat-dialog-close",""]],template:function(a,l){1&a&&(t.TgZ(0,"h1",0),t._uU(1,"\xbfEST\xc1S SEGURO QUE DESEA ELIMINAR?"),t.qZA(),t.TgZ(2,"div",1),t._uU(3,"Recuerda que una vez eliminado no podra recuperar este registro"),t.qZA(),t.TgZ(4,"div",2)(5,"button",3),t._uU(6,"Aceptar"),t.qZA(),t.TgZ(7,"button",4),t._uU(8,"Cerrar"),t.qZA()()),2&a&&(t.xp6(5),t.Q6J("mat-dialog-close","si"))},directives:[v.uh,v.xY,v.H8,U.lW,v.ZT],encapsulation:2}),o})()},7785:(J,E,n)=>{n.r(E),n.d(E,{AlmacenModule:()=>L});var m=n(9808),d=n(3075),C=n(9224),t=n(7423),g=n(7322),Z=n(7531),D=n(6346),v=n(4847),O=n(6087),U=n(5245),y=n(9464),h=n(325),e=n(5e3),T=n(2957),M=n(9458),P=n(7890);let I=(()=>{class c{constructor(r,s,f,o){this.route=r,this.router=s,this.authenticationService=f,this.servicio=o,this.columnas=["descripcion","direccion"],this.nombrecolumna=["Descripci\xf3n ","Direcci\xf3n"],this.dataSource=new D.by}ngOnInit(){let r=this,s=this.authenticationService.currentUserValue;console.log(s.Token);const f=s.Token.toString();this.servicio.enviar_seguro("web_service/lista_almacen",{},f).pipe().subscribe(o=>{r.dataSource=new D.by(o.lista)})}}return c.\u0275fac=function(r){return new(r||c)(e.Y36(h.gz),e.Y36(h.F0),e.Y36(T.$h),e.Y36(M.b))},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-almacen"]],decls:1,vars:3,consts:[["titulo_modulo","LISTA DE ALMACENES","url_nuevo","/principal/almacen/almacen/nuevo","url_editar","/principal/almacen/almacen/editar/","url_eliminar","web_service/eliminar_almacen",3,"columnas","filasource","nombrecolumna"]],template:function(r,s){1&r&&e._UZ(0,"app-datablematerial",0),2&r&&e.Q6J("columnas",s.columnas)("filasource",s.dataSource)("nombrecolumna",s.nombrecolumna)},directives:[P.ci],styles:[""]}),c})();var Y=n(7261),B=n(5377);let x=(()=>{class c{constructor(r,s,f,o,i,a,l,u,p){this._snackBar=r,this.loadingBar=s,this.authenticationService=f,this.alertService=o,this.route=i,this.router=a,this.servicio=l,this.formbuilder=u,this.activatedroute=p,this.titulo="",this.tipo_movimiento=[],this.texto_boton="Guardar",this.estado=!0,this.form=this.formbuilder.group({descripcion:["",[d.kI.required]],id:["",[]],direccion:["",[d.kI.required]]})}ngOnInit(){let r=this,s=this.authenticationService.currentUserValue;console.log(s.Token);const f=s.Token.toString();console.log("info....."),this.activatedroute.data.subscribe(o=>{console.log(o),r.titulo=o.title}),this.route.paramMap.subscribe(o=>{null!=o.get("id")&&(r.form.get("id").setValue(o.get("id")),r.servicio.enviar_seguro("web_service/cargar_uno_almacen",{id:o.get("id")},f).pipe().subscribe(i=>{r.form.get("descripcion").setValue(i.almacen_descripcion),r.form.get("direccion").setValue(i.almacen_direccion)},i=>{}))})}onSubmit(){let r=this;if(this.form.valid){let s={};r.texto_boton="Guardando...",r.estado=!1,s=this.form.value,this.servicio.enviar_seguro("web_service/guardar_almacen",s,this.authenticationService.currentUserValue.Token).pipe().subscribe(i=>{r._snackBar.open(i.mensaje,"",{duration:2e3}),this.router.navigate(["/principal/almacen/almacen"])},i=>{})}}}return c.\u0275fac=function(r){return new(r||c)(e.Y36(Y.ux),e.Y36(B.dL),e.Y36(T.$h),e.Y36(T.c9),e.Y36(h.gz),e.Y36(h.F0),e.Y36(M.b),e.Y36(d.qu),e.Y36(h.gz))},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-almacen-nuevo"]],decls:32,vars:4,consts:[[3,"formGroup","submit"],["type","hidden","formControlName","id"],[1,"row"],[1,"col-md-12"],[2,"font-weight","bold","font-size","25px"],[1,"col-md-6"],["appearance","outline",2,"width","100% !important"],["matInput","","formControlName","descripcion"],["matInput","","formControlName","direccion"],[1,"col-md-12","d-flex","justify-content-center"],["id","basic","type","submit","mat-button","",2,"color","white","background-color","#039be5",3,"disabled"],["id","basic","routerLink","/principal/almacen/almacen","type","button","mat-button","",2,"color","white","background-color","red"]],template:function(r,s){1&r&&(e.TgZ(0,"form",0),e.NdJ("submit",function(){return s.onSubmit()}),e._UZ(1,"input",1),e.TgZ(2,"div",2)(3,"div",3)(4,"h5",4),e._uU(5),e.qZA()()(),e._UZ(6,"br"),e.TgZ(7,"div",2)(8,"div",3)(9,"mat-card")(10,"div",2)(11,"div",5)(12,"mat-form-field",6)(13,"mat-label"),e._uU(14,"Descripci\xf3n del Almacen"),e.qZA(),e._UZ(15,"input",7),e.TgZ(16,"mat-error"),e._uU(17," Campo requerido "),e.qZA()()(),e.TgZ(18,"div",5)(19,"mat-form-field",6)(20,"mat-label"),e._uU(21,"Direcci\xf3n del Almacen"),e.qZA(),e._UZ(22,"input",8),e.TgZ(23,"mat-error"),e._uU(24," Campo requerido "),e.qZA()()()(),e._UZ(25,"br"),e.TgZ(26,"div",2)(27,"div",9)(28,"button",10),e._uU(29),e.qZA(),e.TgZ(30,"button",11),e._uU(31," Cancelar "),e.qZA()()()()()()()),2&r&&(e.Q6J("formGroup",s.form),e.xp6(5),e.Oqu(s.titulo),e.xp6(23),e.Q6J("disabled",!s.form.valid||!s.estado),e.xp6(1),e.hij(" ",s.texto_boton," "))},directives:[d._Y,d.JL,d.sg,d.Fj,d.JJ,d.u,C.a8,g.KE,g.hX,Z.Nt,g.TO,t.lW,h.rH],styles:[""]}),c})();const N=[{path:"",data:{title:"Almacen"},children:[{path:"",redirectTo:"almacen"},{path:"almacen",component:I,data:{title:"Almacen"}},{path:"almacen/nuevo",component:x,data:{title:"Almacen Nuevo"}},{path:"almacen/editar/:id",component:x,data:{title:"Almacen Editar"}}]}];let R=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=e.oAB({type:c}),c.\u0275inj=e.cJS({imports:[[h.Bz.forChild(N)],h.Bz]}),c})(),L=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=e.oAB({type:c}),c.\u0275inj=e.cJS({providers:[m.H9],imports:[[d.u5,d.UX,C.QW,y.r,t.ot,U.Ps,Z.c,m.ez,g.lN,v.JX,O.TU,D.p0,R]]}),c})()}}]);