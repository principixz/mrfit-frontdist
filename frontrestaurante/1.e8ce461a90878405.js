"use strict";(self.webpackChunkfrontrestaurante=self.webpackChunkfrontrestaurante||[]).push([[1],{9001:(re,U,c)=>{c.r(U),c.d(U,{VentaModule:()=>ne});var _=c(9808),d=c(3075),m=c(325),N=c(8929),R=c(5226),g=c.n(R),k=c(5415),x=c(520),t=c(5e3),v=c(9293),T=c(5228),w=c(7423),Z=c(9224);function z(i,r){1&i&&(t.TgZ(0,"span",18),t._uU(1,"Eliminado"),t.qZA())}function V(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit;return t.oxw(2).descargar_pdf(n.pdf)}),t._UZ(1,"i",20),t.qZA()}}function B(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"button",21),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit;return t.oxw(2).descargar_pdf(n.xml)}),t._UZ(1,"i",22),t.qZA()}}function D(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"button",23),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit;return t.oxw(2).descargar_pdf(n.cdr)}),t._UZ(1,"i",24),t.qZA()}}function H(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"button",25),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit;return t.oxw(2).enviar_correo(n.id)}),t._UZ(1,"i",26),t.qZA()}}function $(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit;return t.oxw(2).eliminar_comprobante(n.id)}),t._UZ(1,"i",28),t.qZA()}}function G(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"button",29),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit;return t.oxw(2).imprimir_comprobante(n.id)}),t._UZ(1,"i",30),t.qZA()}}function W(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"button",31),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit;return t.oxw(2).enviar_wtp(n.xml)}),t._UZ(1,"i",32),t.qZA()}}function X(i,r){if(1&i&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t.YNc(14,z,2,0,"span",10),t.YNc(15,V,2,0,"button",11),t.YNc(16,B,2,0,"button",12),t.YNc(17,D,2,0,"button",13),t.YNc(18,H,2,0,"button",14),t.YNc(19,$,2,0,"button",15),t.YNc(20,G,2,0,"button",16),t.YNc(21,W,2,0,"button",17),t.qZA()()),2&i){const e=r.$implicit;t.xp6(2),t.Oqu(e.id),t.xp6(2),t.Oqu(e.glosario),t.xp6(2),t.Oqu(e.cliente),t.xp6(2),t.Oqu(e.fecha),t.xp6(2),t.Oqu(e.monto),t.xp6(2),t.Oqu(e.serie),t.xp6(2),t.Q6J("ngIf","0"==e.estado),t.xp6(1),t.Q6J("ngIf","0"!=e.estado),t.xp6(1),t.Q6J("ngIf","0"!=e.estado),t.xp6(1),t.Q6J("ngIf","0"!=e.estado),t.xp6(1),t.Q6J("ngIf","0"!=e.estado),t.xp6(1),t.Q6J("ngIf","0"!=e.estado),t.xp6(1),t.Q6J("ngIf","0"!=e.estado),t.xp6(1),t.Q6J("ngIf","0"!=e.estado)}}function K(i,r){if(1&i&&(t.TgZ(0,"tbody"),t.YNc(1,X,22,14,"tr",9),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.asociado)}}function tt(i,r){1&i&&(t.TgZ(0,"tbody")(1,"tr")(2,"td",33),t._uU(3,"No informacion!"),t.qZA()()())}let et=(()=>{class i{constructor(e,o,n,a){this.http=e,this.conexion=o,this.datos=n,this.authenticationService=a,this.dtOptions={},this.dtTrigger=new N.xQ,this.asociados=[]}ngOnInit(){let e=this;this.dtOptions={language:{processing:"Procesando...",search:"Buscar:",lengthMenu:"Mostrar _MENU_ elementos",info:"Mostrando desde _START_ al _END_ de _TOTAL_ elementos",infoEmpty:"Mostrando ning\xfan elemento.",infoFiltered:"(filtrado _MAX_ elementos total)",infoPostFix:"",loadingRecords:"Cargando registros...",emptyTable:"No hay datos disponibles en la tabla",paginate:{first:"Primero",previous:"Anterior",next:"Siguiente",last:"\xdaltimo"},aria:{sortAscending:": Activar para ordenar la tabla en orden ascendente",sortDescending:": Activar para ordenar la tabla en orden descendente"}},pagingType:"full_numbers",pageLength:10,serverSide:!0,processing:!0,ajax:(o,n)=>{const l={headers:new x.WM({Accept:"application/json","Content-Type":"application/json;charset=utf-8",Authorization:this.authenticationService.currentUserValue.Token})};e.http.post(e.conexion.url_global+"web_service/buscar_tabla",o,l).subscribe(p=>{e.asociado=p.data,console.log(e.asociado),n({recordsTotal:p.recordsTotal,recordsFiltered:p.recordsFiltered,data:[]})})},columns:[{data:"id"},{data:"cliente"},{data:"glosario"},{data:"fecha"},{data:"monto"},{data:"serie"},{data:"button"}]}}ngOnDestroy(){this.dtTrigger.unsubscribe()}descargar_pdf(e){let o=e.replace("http://","https://");window.open(o)}enviar_correo(e){g().fire({title:"Ingrese el correo electr\xf3nico",input:"email",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,confirmButtonText:"Enviar",showLoaderOnConfirm:!0,preConfirm:o=>fetch(this.conexion.url_global+"Api/ws_enviar_factura",{method:"post",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify({id:e,correo:o})}).then(a=>{if(!a.ok)throw new Error(a.statusText);return a.json()}).catch(a=>{g().showValidationMessage(`Request failed: ${a}`)}),allowOutsideClick:()=>!g().isLoading()}).then(o=>{o.isConfirmed&&g().fire("Excelente","Se envio correctamente el correo","success")})}imprimir_comprobante(e){var o=this.conexion.url_global+"Comprobante/mostrar_comprobante/"+e,n=document.createElement("a");n.target="_blank",n.href=o,n.click()}eliminar_comprobante(e){let o=this;g().fire({title:"Ingrese motivo de eliminaci\xf3n",input:"text",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,confirmButtonText:"Enviar",showLoaderOnConfirm:!0,preConfirm:n=>fetch(this.conexion.url_global+"Api/procesar_eliminacion_factura",{method:"post",headers:{Accept:"application/json, text/plain","Content-Type":"application/json",Authorization:this.authenticationService.currentUserValue.Token},body:JSON.stringify({id:e,mensaje:n})}).then(p=>{if(!p.ok)throw new Error(p.statusText);return p.json()}).catch(p=>{g().showValidationMessage(`Request failed: ${p}`)}),allowOutsideClick:()=>!g().isLoading()}).then(n=>{if(n.isConfirmed){let a=o.asociado.findIndex(s=>s.id==e);o.asociado[a].estado="0",g().fire("Excelente","Se elimino correctamente","success")}})}enviar_wtp(e){g().fire({title:"Ingrese el n\xfamero de celular",input:"number",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,confirmButtonText:"Enviar",showLoaderOnConfirm:!0,preConfirm:o=>fetch(this.conexion.url_global+"Api/enviar_whatsapp",{method:"post",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify({id:e,numero:o})}).then(a=>{if(!a.ok)throw new Error(a.statusText);return a.json()}).catch(a=>{g().showValidationMessage(`Request failed: ${a}`)}),allowOutsideClick:()=>!g().isLoading()}).then(o=>{o.isConfirmed&&g().fire("Excelente","Se envio correctamente el correo","success")})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(x.eN),t.Y36(v.b),t.Y36(T.$),t.Y36(T.$))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-lista"]],viewQuery:function(e,o){if(1&e&&t.Gf(k.G,5),2&e){let n;t.iGM(n=t.CRH())&&(o.datatable=n.first)}},decls:35,vars:3,consts:[[1,"row"],[1,"col-md-12"],[2,"font-weight","bold","font-size","25px","color","black"],[1,"col-md-3"],["mat-raised-button","",2,"background-color","#039be5","color","white"],[1,"col-md-7"],[1,"mat-elevation-z2"],["datatable","",1,"striper",3,"dtOptions"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","badge badge-danger",4,"ngIf"],["title","descargar PDF","class","btn btn-brand btn-success",3,"click",4,"ngIf"],["title","descargar XML","class","btn btn-brand btn-primary",3,"click",4,"ngIf"],["title","descargar CDR","class","btn btn-brand btn-secondary",3,"click",4,"ngIf"],["title","Enviar factura al correo","class","btn btn-brand btn-dark",3,"click",4,"ngIf"],["title","Eliminar comprobante de pago","class","btn btn-brand btn-danger",3,"click",4,"ngIf"],["title","Imprimir comprobante","class","btn btn-brand btn-success",3,"click",4,"ngIf"],["title","Enviar al whatsapp","class","btn btn-brand btn-success",3,"click",4,"ngIf"],[1,"badge","badge-danger"],["title","descargar PDF",1,"btn","btn-brand","btn-success",3,"click"],[1,"fa","fa-file-pdf-o"],["title","descargar XML",1,"btn","btn-brand","btn-primary",3,"click"],["aria-hidden","true",1,"fa","fa-file-code-o"],["title","descargar CDR",1,"btn","btn-brand","btn-secondary",3,"click"],["aria-hidden","true",1,"fa","fa-file-archive-o"],["title","Enviar factura al correo",1,"btn","btn-brand","btn-dark",3,"click"],["aria-hidden","true",1,"fa","fa-envelope-o"],["title","Eliminar comprobante de pago",1,"btn","btn-brand","btn-danger",3,"click"],["aria-hidden","true",1,"fa","fa-trash-o"],["title","Imprimir comprobante",1,"btn","btn-brand","btn-success",3,"click"],["aria-hidden","true",1,"fa","fa-print"],["title","Enviar al whatsapp",1,"btn","btn-brand","btn-success",3,"click"],["aria-hidden","true",1,"fa","fa-whatsapp"],["colspan","6",1,"no-data-available"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),t._uU(3,"LISTA DE VENTAS"),t.qZA()()(),t._UZ(4,"br"),t.TgZ(5,"div",0)(6,"div",3)(7,"button",4),t._uU(8,"Nuevo"),t.qZA()(),t._UZ(9,"div",5),t.qZA(),t._UZ(10,"br"),t.TgZ(11,"div",0)(12,"div",1)(13,"div",6)(14,"mat-card")(15,"mat-card-content")(16,"table",7)(17,"thead")(18,"tr")(19,"th"),t._uU(20,"id"),t.qZA(),t.TgZ(21,"th"),t._uU(22,"Glosario"),t.qZA(),t.TgZ(23,"th"),t._uU(24,"Cliente"),t.qZA(),t.TgZ(25,"th"),t._uU(26,"Fecha"),t.qZA(),t.TgZ(27,"th"),t._uU(28,"Monto"),t.qZA(),t.TgZ(29,"th"),t._uU(30,"documento"),t.qZA(),t.TgZ(31,"th"),t._uU(32,"Acciones"),t.qZA()()(),t.YNc(33,K,2,1,"tbody",8),t.YNc(34,tt,4,0,"tbody",8),t.qZA()()()()()()),2&e&&(t.xp6(16),t.Q6J("dtOptions",o.dtOptions),t.xp6(17),t.Q6J("ngIf",0!=(null==o.asociado?null:o.asociado.length)),t.xp6(1),t.Q6J("ngIf",0==(null==o.asociado?null:o.asociado.length)))},directives:[w.lW,Z.a8,Z.dn,k.G,_.O5,_.sg],styles:["body[_ngcontent-%COMP%]{font-family:Covered By Your Grace,cursive;line-height:1.25}.btn[_ngcontent-%COMP%]{margin:5px!important}  table.dataTable td.dataTables_empty{display:none}@media screen and (max-width: 960px){.mat-table[_ngcontent-%COMP%]{border:0;vertical-align:middle}.mat-table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{font-size:1em}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]{border-bottom:5px solid #ddd;display:block}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{border-bottom:1px solid #ddd;display:block;font-size:1em;text-align:right;font-weight:700;height:30px;margin-bottom:4%}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:before{content:attr(data-label);float:left;text-transform:uppercase;font-weight:400;font-size:.85em}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:last-child{border-bottom:0}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:first-child{margin-top:4%}}"]}),i})();var q=c(3562),f=c(8966),I=c(5076),ot=c(2284),it=c(1059),nt=c(4850),at=c(8274),rt=c(6536),ct=c(7407),L=c(7261),h=c(7322),J=c(5245),A=c(7531),P=c(3251),S=c(7544),E=c(773),O=c(2140),Y=c(3189);const st=["focussearch"];function lt(i,r){1&i&&t.GkF(0)}function dt(i,r){1&i&&t.GkF(0)}function pt(i,r){if(1&i&&(t.TgZ(0,"div",6),t.YNc(1,lt,1,0,"ng-container",7),t.YNc(2,dt,1,0,"ng-container",7),t.qZA()),2&i){t.oxw();const e=t.MAs(8),o=t.MAs(6);t.xp6(1),t.Q6J("ngTemplateOutlet",e),t.xp6(1),t.Q6J("ngTemplateOutlet",o)}}function ut(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",8),t.NdJ("click",function(){return t.CHM(e),t.oxw().buscador()}),t.TgZ(1,"button",9)(2,"i",10),t._uU(3,"search"),t.qZA()()()}}function mt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"mat-card")(4,"mat-form-field",14)(5,"mat-icon",15),t._uU(6,"search"),t.qZA(),t.TgZ(7,"input",16,17),t.NdJ("keyup",function(n){return t.CHM(e),t.oxw().validar(n)})("ngModelChange",function(n){return t.CHM(e),t.oxw().searchText=n}),t.qZA(),t.TgZ(9,"button",18),t.NdJ("click",function(){return t.CHM(e),t.oxw().limpiar()}),t.TgZ(10,"mat-icon",19),t._uU(11,"cancel"),t.qZA()()()()()()()}if(2&i){const e=t.oxw();t.xp6(7),t.Q6J("ngModel",e.searchText)}}function gt(i,r){1&i&&t.GkF(0)}function _t(i,r){if(1&i&&(t.TgZ(0,"span",23),t._uU(1,"DETALLE PEDIDO"),t.qZA()),2&i){const e=t.oxw(2);t.Q6J("matBadge",e.listadetalle.length)}}function ht(i,r){1&i&&t.GkF(0)}function ft(i,r){if(1&i&&(t.TgZ(0,"mat-tab-group",20)(1,"mat-tab",21),t.YNc(2,gt,1,0,"ng-container",7),t.qZA(),t.TgZ(3,"mat-tab"),t.YNc(4,_t,2,1,"ng-template",22),t.YNc(5,ht,1,0,"ng-container",7),t.qZA()()),2&i){t.oxw();const e=t.MAs(6),o=t.MAs(8);t.xp6(2),t.Q6J("ngTemplateOutlet",e),t.xp6(3),t.Q6J("ngTemplateOutlet",o)}}function bt(i,r){1&i&&(t.TgZ(0,"div",28),t._UZ(1,"br"),t.TgZ(2,"button",40)(3,"mat-icon"),t._uU(4,"reply"),t.qZA(),t.TgZ(5,"span"),t._uU(6,"REGRESAR"),t.qZA()()())}function xt(i,r){1&i&&(t.TgZ(0,"h5",41),t._uU(1,"TOMA DE PEDIDO"),t.qZA())}function vt(i,r){1&i&&(t.TgZ(0,"mat-icon"),t._uU(1,"update"),t.qZA())}function Tt(i,r){1&i&&t._UZ(0,"mat-spinner",45)}function Zt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"button",42),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).recargar()}),t.YNc(1,vt,2,0,"mat-icon",43),t.YNc(2,Tt,1,0,"mat-spinner",44),t.qZA()}if(2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.estado_carga),t.xp6(1),t.Q6J("ngIf",e.estado_carga)}}function Ct(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"button",18),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).limpiar()}),t.TgZ(1,"mat-icon",19),t._uU(2,"cancel"),t.qZA()()}}function wt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",31)(1,"div",32)(2,"mat-card",37)(3,"div",46)(4,"mat-form-field",14)(5,"mat-icon",15),t._uU(6,"search"),t.qZA(),t.TgZ(7,"input",16),t.NdJ("keyup",function(n){return t.CHM(e),t.oxw(2).validar(n)})("ngModelChange",function(n){return t.CHM(e),t.oxw(2).searchText=n}),t.qZA(),t.YNc(8,Ct,3,0,"button",47),t.qZA()()()()()}if(2&i){const e=t.oxw(2);t.xp6(7),t.Q6J("ngModel",e.searchText),t.xp6(1),t.Q6J("ngIf",e.btnlimpiar)}}function At(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"mat-chip",48),t.NdJ("click",function(){const n=t.CHM(e),a=n.$implicit,s=n.index;return t.oxw(2).seleccionar(a.categoria_producto_id,s)}),t._uU(1),t.qZA()}if(2&i){const e=r.$implicit;t.Q6J("selected",e.estado_seleccionar),t.xp6(1),t.hij(" ",e.categoria_producto_descripcion," ")}}function Pt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",49)(1,"mat-card",50)(2,"div",51)(3,"a",52),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw(2).agregar_plato(a)}),t.TgZ(4,"img",53),t.NdJ("error",function(n){return t.CHM(e),t.oxw(2).onImgError(n)}),t.qZA()()(),t.TgZ(5,"div",6)(6,"div",54)(7,"label",55),t._uU(8),t.qZA()()(),t.TgZ(9,"div",6)(10,"div",32)(11,"label",56),t._uU(12),t.qZA()()()()()}if(2&i){const e=r.$implicit,o=t.oxw(2);t.xp6(4),t.Q6J("src",o.servicio.url_global+"public/img/productos/default.jpg",t.LSH),t.xp6(4),t.Oqu(e.nombre),t.xp6(4),t.hij("S/ ",e.precio,"")}}function kt(i,r){if(1&i&&(t.TgZ(0,"div",24)(1,"div",6),t.YNc(2,bt,7,0,"div",25),t.TgZ(3,"div",26),t.YNc(4,xt,2,0,"h5",27),t.qZA(),t.TgZ(5,"div",28),t._UZ(6,"br"),t.YNc(7,Zt,3,2,"button",29),t.qZA()(),t.YNc(8,wt,9,2,"div",30),t.TgZ(9,"div",31)(10,"div",32)(11,"mat-card",33)(12,"mat-chip-list",34),t.YNc(13,At,2,2,"mat-chip",35),t.qZA()()()(),t.TgZ(14,"div",31)(15,"div",36)(16,"mat-card",37)(17,"div",38),t.YNc(18,Pt,13,3,"div",39),t.ALo(19,"filter"),t.qZA()()()()()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",!e.estado_mobile),t.xp6(2),t.Q6J("ngIf",!e.estado_mobile),t.xp6(3),t.Q6J("ngIf",!e.estado_mobile),t.xp6(1),t.Q6J("ngIf",!e.estado_mobile),t.xp6(5),t.Q6J("ngForOf",e.Lista_categoria),t.xp6(5),t.Q6J("ngForOf",t.xi3(19,6,e.ListaProducto,e.searchText))}}function Ot(i,r){if(1&i&&(t.TgZ(0,"span",83),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.comentario)}}function yt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"i",84),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit;return t.oxw(2).eliminar_item(n.idplato)}),t.qZA()}}function Mt(i,r){if(1&i&&(t.TgZ(0,"tr",77)(1,"td",67),t._uU(2),t.qZA(),t.TgZ(3,"td",65)(4,"span"),t._uU(5),t.YNc(6,Ot,2,1,"span",78),t.qZA()(),t.TgZ(7,"td",79)(8,"span",80),t._uU(9),t.ALo(10,"number"),t.qZA()(),t.TgZ(11,"td",81),t.YNc(12,yt,1,0,"i",82),t.qZA()()),2&i){const e=r.$implicit;t.xp6(2),t.hij(" ",e.cantidad," "),t.xp6(3),t.hij(" ",e.nombre," "),t.xp6(1),t.Q6J("ngIf",""!=e.comentario),t.xp6(3),t.hij(" ",t.xi3(10,5,e.cantidad*e.precio,"1.2-2")," "),t.xp6(3),t.Q6J("ngIf",1==e.estado)}}function Ut(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",57)(1,"div",6)(2,"div",32)(3,"mat-card",58)(4,"button",59)(5,"mat-icon"),t._uU(6,"table_restaurant"),t.qZA(),t.TgZ(7,"span",60),t._uU(8),t.qZA()()()()(),t.TgZ(9,"div",6)(10,"div",32)(11,"mat-card",50)(12,"table",61)(13,"thead")(14,"tr",62)(15,"th",63)(16,"span",64),t._uU(17,"CANT"),t.qZA()(),t.TgZ(18,"th",65)(19,"span",66),t._uU(20,"PLATO"),t.qZA()(),t.TgZ(21,"th",67)(22,"span",68),t._uU(23,"PRECIO"),t.qZA()(),t.TgZ(24,"th",69),t._UZ(25,"i",70),t.qZA()()()(),t.TgZ(26,"div",71)(27,"table",72)(28,"tbody"),t.YNc(29,Mt,13,8,"tr",73),t.qZA()()(),t.TgZ(30,"div",74)(31,"button",75),t.NdJ("click",function(){return t.CHM(e),t.oxw().precuenta()}),t.TgZ(32,"mat-icon"),t._uU(33,"table_restaurant"),t.qZA(),t.TgZ(34,"span"),t._uU(35,"Precuenta"),t.qZA()(),t.TgZ(36,"button",75),t.NdJ("click",function(){return t.CHM(e),t.oxw().procesar()}),t.TgZ(37,"mat-icon"),t._uU(38,"cached"),t.qZA(),t.TgZ(39,"span"),t._uU(40,"Procesar"),t.qZA()(),t.TgZ(41,"button",76),t.NdJ("click",function(){return t.CHM(e),t.oxw().pagar()}),t._uU(42),t.ALo(43,"number"),t.qZA()()()()()()}if(2&i){const e=t.oxw();t.xp6(8),t.hij(" ",e.nombre_mesa," "),t.xp6(21),t.Q6J("ngForOf",e.listadetalle),t.xp6(13),t.hij("S/ ",t.xi3(43,3,e.total_,"1.2-2"),"")}}let Nt=(()=>{class i{constructor(e,o,n,a,s,l,p,u,b){this.deviceService=e,this.modalService=o,this.ngxUiLoaderService=n,this.dialog=a,this._snackBar=s,this.route=l,this.router=p,this.authenticationService=u,this.servicio=b,this.panelOpenState=!0,this.controlnumero=new d.NI,this.controldireccion=new d.NI,this.streets=["Champs-\xc9lys\xe9es","Lombard Street","Abbey Road","Fifth Avenue"],this.filteredStreets=[],this.lista_numero_celular=[],this.userQuestion="",this.userQuestionUpdate=new N.xQ,this.prueba=[1,2,3,4,5,6,7,8,9,9],this.ListaProducto=[],this.ListaProducto_temp=[],this.searchText="",this.nombre_mesa="",this.idventa=0,this.idmesa=0,this.estado_mobile=!1,this.mostrar_buscador=!1,this.btnlimpiar=!1,this.estado_carga=!0,this.base_url="",this.listadetalle=[],this.cantidad_detalle=0,this.total_=0,this.Lista_categoria=[];let C=this;this.route.paramMap.subscribe(ae=>{let M=ae.params;C.nombre_mesa=M.nombremesa,C.idventa=M.idventa,C.idmesa=M.idmesa}),this.mobil()}_filter(e){console.log(e),alert()}_normalizeValue(e){return e.toLowerCase().replace(/\s/g,"")}ngOnInit(){this.cargar_inicial(),this.controlnumero.valueChanges.pipe((0,it.O)(""),(0,nt.U)(o=>this._filter(o)))}buscar_numero(e){alert();let o={};o.term=e;let n=this,a=this.authenticationService.currentUserValue;console.log(a.Token);const s=a.Token.toString();this.servicio.enviar_seguro("Membresias/buscar_cliente_servicios2",o,s).pipe().subscribe(l=>{n.filteredStreets=l})}eliminar_item(e){this.listadetalle=this.listadetalle.filter(o=>o.idplato!=e||"1"!=o.iddetalle)}onImgError(e){e.target.src=this.servicio.url_global+"/public/default.jpg"}precuenta(){0!=this.idventa?window.open(this.servicio.url_global+"Precuenta/mostrar_comprobante/"+this.idventa,"_blank"):this._snackBar.open("NO TIENE PRECUENTA DISPONIBLE","",{duration:1e3})}seleccionar(e,o){for(let n=0;n<this.Lista_categoria.length;n++)this.Lista_categoria[n].estado_seleccionar=!1;this.Lista_categoria[o].estado_seleccionar=!0,this.ListaProducto=0!=e?this.ListaProducto_temp.filter(n=>n.categoria_id==e):this.ListaProducto_temp}buscador(){let e=this;this.mostrar_buscador=!0,setTimeout(()=>{e.focussearch.nativeElement.focus()},100)}mobil(){this.deviceInfo=this.deviceService.getDeviceInfo();const o=this.deviceService.isMobile(),n=this.deviceService.isTablet();this.deviceService.isDesktop(),(n||o)&&(this.estado_mobile=!0),console.log(this.estado_mobile)}total(){let e=this;this.total_=0,this.listadetalle.forEach(o=>{e.total_+=o.cantidad*o.precio})}pagar(){if(0==this.listadetalle.length)return void this._snackBar.open("POR FAVOR INGRESE AL MENOS UN PLATO","",{duration:1e3});const e=this.modalService.open(ot.G2,{animation:!0,size:"xl",windowClass:"dark-modal",keyboard:!1,backdrop:"static"});let o=this,n={};n.idventa=o.idventa,n.idmesa=o.idmesa,n.pedido=o.listadetalle,n.mesa=o.nombre_mesa,e.componentInstance.dataToTakeAsInput=n,e.result.then(a=>{console.log(a),a.estado?(o._snackBar.open(a.mensaje,"",{duration:3e3}),o.router.navigate(["/principal/membresia/ventaservicio/nuevo"])):null!=a.mensaje&&o._snackBar.open(a.mensaje,"ok",{duration:3e3})}).catch(a=>{console.log(a)})}procesar(){if(0==this.listadetalle.length)return void this._snackBar.open("POR FAVOR INGRESE AL MENOS UN PLATO","",{duration:1e3});this.ngxUiLoaderService.start();let e=this;this.estado_carga=!0,this.base_url=this.servicio.url_global;let o={};o.idventa=e.idventa,o.idmesa=e.idmesa,o.pedido=e.listadetalle;let n=this.authenticationService.currentUserValue;console.log(n.Token);const a=n.Token.toString();this.servicio.enviar_seguro("Web_service/procesar_pedido",o,a).pipe().subscribe(s=>{e.ngxUiLoaderService.stop(),s.estado?(e._snackBar.open(s.mensaje,"",{duration:3e3}),e.router.navigate(["/principal/membresia/ventaservicio/nuevo"])):e._snackBar.open(s.mensaje,"ok",{duration:3e3})})}agregar_plato(e){let o=this.listadetalle.findIndex(u=>u.idplato==e.id&&1==u.estado);console.log(e);let n=1;-1!=o&&(n=this.listadetalle[o].cantidad);const a=new f.vA;let s={};s.url=this.base_url,s.plato=e,s.cantidad=n,a.data=s,a.panelClass="modal_precio";let l=this;this.dialog.open(qt,a).afterClosed().subscribe(u=>{console.log(u),console.log(`Dialog result: ${u}`),null!=u&&""!=u&&(console.log("estoy aqui"),console.log(u),l.listadetalle=l.listadetalle.filter(b=>b.idplato!=u.idplato||"1"!=b.iddetalle),l.listadetalle.unshift(u),console.log(l.listadetalle),l._snackBar.open("Producto agregado correctamente","ok",{duration:3e3}),l.cantidad_detalle=l.listadetalle.length,l.total())})}validar(e){console.log(e.target.value),this.btnlimpiar=""!=e.target.value}limpiar(){this.mostrar_buscador=!1,this.searchText="",this.btnlimpiar=!1}recargar(){let e=this;this.estado_carga=!0,this.base_url=this.servicio.url_global;let o={};o.idventa=e.idventa;let n=this.authenticationService.currentUserValue;console.log(n.Token);const a=n.Token.toString();this.servicio.enviar_seguro("Web_service/buscar_producto",o,a).pipe().subscribe(s=>{e.ListaProducto=[],e.ListaProducto_temp=[],e.estado_carga=!1,s.productos.forEach(l=>{e.ListaProducto.push(new q.U(l.producto_id,l.producto_descripcion,"",l.imagen,"",l.producto_precio,l.categoria_producto_id,l.stock,l.producto_encendido))}),e.ListaProducto_temp=e.ListaProducto}),this.servicio.enviar_seguro("Web_service/cargar_categoria_producto",{},a).pipe().subscribe(s=>{e.Lista_categoria=s})}cargar_inicial(){let e=this;this.estado_carga=!0,this.base_url=this.servicio.url_global;let o={};o.idventa=e.idventa;let n=this.authenticationService.currentUserValue;console.log(n.Token);const a=n.Token.toString();this.servicio.enviar_seguro("Membresias/buscar_producto",o,a).pipe().subscribe(s=>{this.ListaProducto=[],this.ListaProducto_temp=[],this.estado_carga=!1,s.productos&&"object"==typeof s.productos?Object.values(s.productos).forEach(p=>{this.ListaProducto.push(new q.U(p.producto_id,p.producto_descripcion,"",p.imagen,"",p.producto_precio,p.categoria_producto_id,p.stock,p.producto_encendido))}):console.error('El campo "productos" no tiene el formato esperado:',s.productos),e.ListaProducto_temp=e.ListaProducto,s.detalle.forEach(l=>{e.listadetalle.push(new I.y(l.id_producto,l.descripcion,l.comentario,l.precio,l.cantidad,2,l.iddetalle))}),e.total()}),this.servicio.enviar_seguro("Web_service/cargar_categoria_producto",{},a).pipe().subscribe(s=>{e.Lista_categoria=s})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(at.x0),t.Y36(rt.FF),t.Y36(ct.LA),t.Y36(f.uw),t.Y36(L.ux),t.Y36(m.gz),t.Y36(m.F0),t.Y36(T.$),t.Y36(v.b))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-pedido"]],viewQuery:function(e,o){if(1&e&&t.Gf(st,5),2&e){let n;t.iGM(n=t.CRH())&&(o.focussearch=n.first)}},decls:9,vars:4,consts:[["class","row",4,"ngIf","ngIfElse"],["class","fab-container",3,"click",4,"ngIf"],["class","row flotante","id","flotante",4,"ngIf"],["elseBlock1",""],["segunda",""],["primera",""],[1,"row"],[4,"ngTemplateOutlet"],[1,"fab-container",3,"click"],["mat-fab","","color","primary",1,"fab-toggler"],[1,"material-icons"],["id","flotante",1,"row","flotante"],[1,"row","cuerpo"],[1,"col-xs-12","col-12","col-md-12",2,"padding","0"],["appearance","standard",2,"width","100% !important","margin-bottom","0px !important"],["matPrefix",""],["matInput","","placeholder","BUSCAR PRODUCTOS O SERVICIOS",3,"ngModel","keyup","ngModelChange"],["focussearch",""],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[2,"font-size","20px"],["mat-align-tabs","start"],["label","PEDIDO"],["matTabLabel",""],["matBadgeOverlap","false",3,"matBadge"],[1,"col-md-8"],["class","col-md-2",4,"ngIf"],[1,"col-md-8","d-flex","justify-content-center"],["style","font-size: 18px;font-weight: bold;margin-top: 30px;color: #9e9e9e;",4,"ngIf"],[1,"col-md-2"],["mat-stroked-button","","class","d-flex justify-content-center ","style","color: #9e9e9e; width: 100%;",3,"click",4,"ngIf"],["style","margin-top:10px;","class","row",4,"ngIf"],[1,"row",2,"margin-top","10px"],[1,"col-md-12"],[2,"padding","5px","margin","0px","width","100%"],["aria-label","Dog selection",1,"box"],["class","new","style","  white-space: nowrap !important;",3,"selected","click",4,"ngFor","ngForOf"],[1,"col-md-12","caja_pedido"],[2,"padding","5px","margin","0px"],["id","cuerpo1",1,"row"],["class","col-md-3 col-6","style","margin-top: 5px; margin-bottom: 5px;",4,"ngFor","ngForOf"],["routerLink","/principal/venta/Venta_mesa","routerLinkActive","active","mat-stroked-button","",2,"color","#9e9e9e"],[2,"font-size","18px","font-weight","bold","margin-top","30px","color","#9e9e9e"],["mat-stroked-button","",1,"d-flex","justify-content-center",2,"color","#9e9e9e","width","100%",3,"click"],[4,"ngIf"],["style","margin: 5px;","diameter","20",4,"ngIf"],["diameter","20",2,"margin","5px"],["fxLayout","row",1,"example-header",2,"margin-left","20px","margin-right","20px"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"new",2,"white-space","nowrap !important",3,"selected","click"],[1,"col-md-3","col-6",2,"margin-top","5px","margin-bottom","5px"],[2,"padding","0px","margin","0px"],[1,"photo","d-flex","justify-content-center"],[3,"click"],["alt","Product Image",1,"img-responsive",2,"width","100%","height","125px",3,"src","error"],[1,"col-md-12",2,"height","60px"],[2,"padding-right","5px","padding-left","5px","font-weight","bold","font-size","13px"],[2,"padding-right","5px","padding-left","5px","font-size","13px"],[1,"col-md-4"],[2,"padding","5px","margin","5px"],["mat-icon-button","",1,"button-icon-text1"],[2,"margin-left","5px"],["id","posTable","data-height","100",1,"table","table-striped","table-condensed","table-hover","list-table",2,"margin","0px"],[1,"success"],[2,"width","10%"],["id","prod"],[2,"width","50%"],["id","pre"],[2,"width","15%","text-align","center"],["id","cant"],[1,"satu",2,"width","5%","text-align","center"],[1,"fa","fa-trash-o"],["id","cuerpo",2,"height","400px !important","overflow","auto !important","overflow-x","hidden!important"],["data-height","100",1,"table","table-striped","table-condensed","table-hover","list-table",2,"margin","0px"],["style","padding: 0px !important;",4,"ngFor","ngForOf"],[1,"btn-group","juntos"],["mat-icon-button","","type","button",1,"btn","btn-ligth",2,"color","#9e9e9e","margin-right","0px !important","height","60px",3,"click"],["type","button",1,"btn","btn-success",2,"margin-right","0px !important","height","60px",3,"click"],[2,"padding","0px !important"],["class","badge bg-success","style","color: white;font-size: 13px;",4,"ngIf"],[1,"text-right",2,"width","15%","text-align","center"],["id","subtotal10159",1,"text-right"],[1,"text-center",2,"width","5%","text-align","center"],["class","fa fa-trash-o tip pointer posdel","title","Eliminar","style","color: red;cursor: pointer;",3,"click",4,"ngIf"],[1,"badge","bg-success",2,"color","white","font-size","13px"],["title","Eliminar",1,"fa","fa-trash-o","tip","pointer","posdel",2,"color","red","cursor","pointer",3,"click"]],template:function(e,o){if(1&e&&(t.YNc(0,pt,3,2,"div",0),t.YNc(1,ut,4,0,"div",1),t.YNc(2,mt,12,1,"div",2),t.YNc(3,ft,6,2,"ng-template",null,3,t.W1O),t.YNc(5,kt,20,9,"ng-template",null,4,t.W1O),t.YNc(7,Ut,44,6,"ng-template",null,5,t.W1O)),2&e){const n=t.MAs(4);t.Q6J("ngIf",!o.estado_mobile)("ngIfElse",n),t.xp6(1),t.Q6J("ngIf",o.estado_mobile),t.xp6(1),t.Q6J("ngIf",o.mostrar_buscador)}},directives:[_.O5,_.tP,w.lW,Z.a8,h.KE,J.Hw,h.qo,A.Nt,d.Fj,d.JJ,d.On,h.R9,P.SP,P.uX,P.uD,S.k,m.rH,m.Od,E.Ou,O.qn,_.sg,O.HS],pipes:[Y.Z,_.JJ],styles:['.mat-form-field[_ngcontent-%COMP%] + .mat-form-field[_ngcontent-%COMP%]{margin-left:8px}.toggle_cliente[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:10px}.fab-container[_ngcontent-%COMP%]{position:fixed;bottom:15px;right:15px;z-index:100;display:flex;flex-direction:column-reverse;align-items:center}  ngb-modal-backdrop{z-index:1050!important}.fab-toggler[_ngcontent-%COMP%]{float:right;z-index:100}#cuerpo1[_ngcontent-%COMP%]{height:430px!important;overflow:auto!important;overflow-x:hidden!important}.caja_pedido[_ngcontent-%COMP%]{height:250px}.satu[_ngcontent-%COMP%]{color:red}.contenedor[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;justify-content:start}.btn1[_ngcontent-%COMP%], .btn2[_ngcontent-%COMP%], .btn3[_ngcontent-%COMP%]{width:30%;padding:0;margin:0}.juntos[_ngcontent-%COMP%]{width:100%}#cuerpo[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px;background-color:#f5f5f5;opacity:.5}#cuerpo[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#000;opacity:.5}#cuerpo[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#f5f5f5;opacity:.5}#cuerpo1[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px;background-color:#f5f5f5;opacity:.5}#cuerpo1[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#000;opacity:.5}#cuerpo1[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#f5f5f5;opacity:.5}.box[_ngcontent-%COMP%]{width:100%;height:50px;white-space:nowrap;position:relative;overflow-x:scroll;overflow-y:hidden;-webkit-overflow-scrolling:touch;behavior:"smooth",}.new[_ngcontent-%COMP%]{float:none;display:inline-block;zoom:1}  .mat-chip-list-wrapper{flex-wrap:unset!important;width:100%;overflow-x:scroll}  .mat-chip-list-wrapper::-webkit-scrollbar{width:6px;height:6px}  .mat-chip-list-wrapper::-webkit-scrollbar-track{border-radius:10px;background:rgba(0,0,0,.1)}  .mat-chip-list-wrapper::-webkit-scrollbar-thumb{border-radius:10px;background:rgba(0,0,0,.2)}  .mat-chip-list-wrapper::-webkit-scrollbar-thumb:hover{background:rgba(0,0,0,.4)}  .mat-chip-list-wrapper::-webkit-scrollbar-thumb:active{background:rgba(0,0,0,.9)}@media only screen and (max-width: 600px){.caja_pedido[_ngcontent-%COMP%]{height:670px}#cuerpo1[_ngcontent-%COMP%]{height:660px!important;overflow:auto!important;overflow-x:hidden!important}  .mat-card{padding:0 10px!important}}.flotante[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0;margin-left:0;margin-right:0;z-index:1030}.cuerpo[_ngcontent-%COMP%]{width:100%!important;margin:0!important}']}),i})(),qt=(()=>{class i{constructor(e,o,n,a,s){this.dialogRef=e,this._formBuilder=o,this.fb=n,this.servicio=a,this.data=s,this.cantidad=1,this.estado=!1,this.total=0,this.precio=0,this.stock=0,this.base_url="",console.log(this.data),this.producto=this.data.plato}enviar(e){console.log(e.value),this.detalle_producto=new I.y(this.producto.id,this.producto.nombre,e.value.texto,parseFloat(this.producto.precio),this.cantidad,1,"1"),console.log(this.detalle_producto),this.dialogRef.close(this.detalle_producto)}ngOnInit(){this.base_url=this.data.url,this.cantidad=this.data.cantidad,this.precio=parseFloat(this.producto.precio),this.calculo_total(),this.stock=this.producto.stock,this.formulario=this._formBuilder.group({texto:new d.NI("")})}agregar(){}aumentar(){this.cantidad++,this.cantidad>1&&(this.estado=!0),this.calculo_total()}disminuir(){2==this.cantidad&&(this.estado=!1),this.cantidad--,this.calculo_total()}calculo_total(){this.total=this.precio*this.cantidad}onImgError1(e){e.target.src=this.servicio.url_global+"/public/default.jpg"}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(f.so),t.Y36(d.qu),t.Y36(d.qu),t.Y36(v.b),t.Y36(f.WI))},i.\u0275cmp=t.Xpm({type:i,selectors:[["dialog-elements-example-dialog"]],decls:28,vars:12,consts:[["mat-dialog-content","",2,"margin","0px !important","padding","0px!important"],["novalidate","",3,"formGroup","ngSubmit"],[2,"position","relative"],[2,"z-index","1"],[1,"imagen",3,"src","error"],["mat-dialog-close","",1,"cerrar",2,"position","absolute","left","10px","top","10px","z-index","3"],[2,"margin","0px","padding","0px","font-weight","bold","cursor","pointer"],[1,"taman","titulo"],[1,"taman","container_stock",2,"margin-top","15px","font-size","17px"],[2,"padding","10px 10px 10px 10px"],[2,"font-weight","bold","color","black"],["appearance","fill","FloatLabelType","Auto",2,"width","100%","margin-top","10px"],["matInput","","formControlName","texto","placeholder","Agregar una nota (Ejemplo salsa, cubierto)"],[1,"boton_agregar"],["type","button",1,"btn","btn-circle","btn-xl",2,"padding","0px","background","rgb(238, 238, 238) !important","margin-right","5px",3,"disabled","click"],[2,"margin-left","30px","margin-right","30px","font-size","18px"],["type","button",1,"btn","btn-circle","btn-xl",2,"padding","0px","background","rgb(238, 238, 238) !important",3,"disabled","click"],["type","submit",1,"btn","btn-success","btn-lg","btn-block",3,"disabled"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"form",1),t.NdJ("ngSubmit",function(){return o.enviar(o.formulario)}),t.TgZ(2,"div",2)(3,"div",3)(4,"img",4),t.NdJ("error",function(a){return o.onImgError1(a)}),t.qZA()(),t.TgZ(5,"div",5)(6,"label",6),t._uU(7," X"),t.qZA()()(),t.TgZ(8,"div",7),t._uU(9),t.qZA(),t.TgZ(10,"div",8),t._uU(11),t.qZA(),t.TgZ(12,"div",9)(13,"label",10),t._uU(14,"Instrucciones especiales"),t.qZA(),t.TgZ(15,"mat-form-field",11),t._UZ(16,"input",12),t.qZA()(),t.TgZ(17,"div",13)(18,"button",14),t.NdJ("click",function(){return o.disminuir()}),t._uU(19," - "),t.qZA(),t.TgZ(20,"label",15),t._uU(21),t.qZA(),t.TgZ(22,"button",16),t.NdJ("click",function(){return o.aumentar()}),t._uU(23," + "),t.qZA()(),t.TgZ(24,"div",9)(25,"button",17),t._uU(26),t.ALo(27,"number"),t.qZA()()()()),2&e&&(t.xp6(1),t.Q6J("formGroup",o.formulario),t.xp6(3),t.Q6J("src",o.base_url+"public/img/productos/"+o.producto.foto,t.LSH),t.xp6(5),t.hij(" ",o.producto.nombre," "),t.xp6(2),t.hij(" Stock: ",o.producto.stock," "),t.xp6(7),t.Q6J("disabled",!o.estado),t.xp6(3),t.Oqu(o.cantidad),t.xp6(1),t.Q6J("disabled",0==o.stock||o.cantidad==o.stock),t.xp6(3),t.Q6J("disabled",0==o.stock),t.xp6(1),t.hij("Agregar a carrito S/ ",t.xi3(27,9,o.total,"1.2"),""))},directives:[f.xY,d._Y,d.JL,d.sg,f.ZT,h.KE,A.Nt,d.Fj,d.JJ,d.u],pipes:[_.JJ],styles:[".imagen[_ngcontent-%COMP%]{height:200px;width:400px}.cerrar[_ngcontent-%COMP%]{color:#000;padding:5px 10px;background-color:#fff;border-radius:50%;cursor:pointer}.titulo[_ngcontent-%COMP%]{font-weight:700;font-size:20px;margin-top:12px;white-space:normal}.taman[_ngcontent-%COMP%]{width:400px;padding-left:10px;padding-right:10px}.boton_agregar[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.btn-circle[_ngcontent-%COMP%]{width:30px;height:30px;text-align:center;padding:6px 0;font-size:12px;line-height:1.428571429;border-radius:15px}.btn-circle.btn-lg[_ngcontent-%COMP%]{width:50px;height:50px;padding:10px 16px;font-size:18px;line-height:1.33;border-radius:25px}.btn-circle.btn-xl[_ngcontent-%COMP%]{width:70px;height:70px;padding:10px 16px;font-size:24px;line-height:1.33;border-radius:35px}.example-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:15px 0}.example-radio-button[_ngcontent-%COMP%]{margin:5px}.srcoll_precios[_ngcontent-%COMP%]{height:120px;overflow-y:scroll}.mat-dialog-container[_ngcontent-%COMP%]{padding:0!important}.container_stock[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}@media only screen and (max-width: 600px){.taman[_ngcontent-%COMP%]{width:100%;padding-left:10px;padding-right:10px}.imagen[_ngcontent-%COMP%]{height:200px;width:100%!important}}"]}),i})();var y=c(6346),It=c(7890);let Lt=(()=>{class i{constructor(e,o,n,a){this.route=e,this.router=o,this.authenticationService=n,this.servicio=a,this.columnas=["producto_descripcion","producto_precio","categoria_producto_descripcion","producto_stock"],this.nombrecolumna=["Descripcion","Precio","Categoria","Stock"],this.dataSource=new y.by}ngOnInit(){let e=this,o=this.authenticationService.currentUserValue;console.log(o.Token);const n=o.Token.toString();this.servicio.enviar_seguro("Web_Service/cargar_platos_productos",{},n).pipe().subscribe(a=>{e.dataSource=new y.by(a.tabla)})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(m.gz),t.Y36(m.F0),t.Y36(T.$),t.Y36(v.b))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-registrar-plato"]],decls:1,vars:3,consts:[["titulo_modulo","LISTA DE PRODUCTOS","url_eliminar","Web_Service/eliminar_cliente","url_nuevo","/principal/venta/registrar_plato/nuevo","url_editar","/principal/venta/clientes/editar/",3,"columnas","filasource","nombrecolumna"]],template:function(e,o){1&e&&t._UZ(0,"app-datablematerial",0),2&e&&t.Q6J("columnas",o.columnas)("filasource",o.dataSource)("nombrecolumna",o.nombrecolumna)},directives:[It.ci],styles:[""]}),i})();var Jt=c(5377),St=c(7505),F=c(4107),Et=c(508),Q=c(3586);function Yt(i,r){if(1&i&&(t.TgZ(0,"mat-option",28),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.descripcion)}}function Ft(i,r){if(1&i&&(t.TgZ(0,"mat-option",28),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e.categoria_producto_id),t.xp6(1),t.Oqu(e.categoria_producto_descripcion)}}function Qt(i,r){if(1&i&&(t.TgZ(0,"mat-option",28),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.descripcion)}}let jt=(()=>{class i{constructor(e,o,n,a,s,l,p,u,b,C){this.http=e,this._snackBar=o,this.loadingBar=n,this.authenticationService=a,this.alertService=s,this.route=l,this.router=p,this.servicio=u,this.formbuilder=b,this.activatedroute=C,this.imageURL="../../../../assets/default.jpg",this.titulo="",this.tipo_movimiento=[],this.texto_boton="Guardar",this.estado=!0,this.lista_moneda=[],this.lista_unidad_medida=[],this.lista_categoria=[],this.form=this.formbuilder.group({producto_id:["",[]],codigo_barra:["",[]],codigo_referencia:["",[d.kI.required]],tipo_moneda:["",[d.kI.required]],moneda:["",[]],stock_minimo:["",[]],unidad:["",[]],descripcion:["",[]],categoria:["",[]],imagen:[null]})}showPreview(e){if(e.files&&e.files[0])if(e.files[0].type.match("image.*")){var n=new FileReader;n.onload=function(a){var s;alert(null===(s=null==a?void 0:a.target)||void 0===s?void 0:s.result)},n.onerror=function(a){alert("Error de lectura")},n.readAsDataURL(e.files[0])}else alert("No es un formato de imagen")}cargar_moneda(){let e=this,o=this.authenticationService.currentUserValue;console.log(o.Token);const n=o.Token.toString();e.servicio.enviar_seguro("Web_service/lista_tipo_moneda",{},n).pipe().subscribe(a=>{e.lista_moneda=a.lista})}cargar_unidad_medida(){let e=this,o=this.authenticationService.currentUserValue;console.log(o.Token);const n=o.Token.toString();e.servicio.enviar_seguro("Web_service/lista_unidad_medida",{},n).pipe().subscribe(a=>{e.lista_unidad_medida=a.lista})}cargar_categoria(){let e=this,o=this.authenticationService.currentUserValue;console.log(o.Token);const n=o.Token.toString();e.servicio.enviar_seguro("Web_service/cargar_categoria_producto",{},n).pipe().subscribe(a=>{e.lista_categoria=a})}ngOnInit(){this.cargar_moneda(),this.cargar_unidad_medida(),this.cargar_categoria();let e=this,o=this.authenticationService.currentUserValue;console.log(o.Token);const n=o.Token.toString();console.log("info....."),this.activatedroute.data.subscribe(a=>{console.log(a),e.titulo=a.title}),this.route.paramMap.subscribe(a=>{null!=a.get("id")&&(e.form.get("id").setValue(a.get("id")),e.servicio.enviar_seguro("Web_service/cargar_cliente_uno",{id:a.get("id")},n).pipe().subscribe(s=>{e.form.get("nombres").setValue(s.cliente_nombres),e.form.get("dni").setValue(s.cliente_dni),e.form.get("telefono").setValue(s.cliente_telefono),e.form.get("direccion").setValue(s.cliente_direccion),e.form.get("correo").setValue(s.cliente_email)},s=>{}))})}onSubmit(){let e=this;if(this.form.valid){let o={};e.texto_boton="Guardando...",e.estado=!1,o=this.form.value;const n=new FormData;n.append("producto_id",this.form.get("producto_id").value),n.append("codigo_barra",this.form.get("codigo_barra").value),n.append("codigo_referencia",this.form.get("codigo_referencia").value),n.append("tipo_moneda",this.form.get("tipo_moneda").value),n.append("moneda",this.form.get("moneda").value),n.append("stock_minimo",this.form.get("stock_minimo").value),n.append("unidad",this.form.get("unidad").value),n.append("descripcion",this.form.get("descripcion").value),n.append("categoria",this.form.get("categoria").value),n.append("imagen",this.form.get("imagen").value);const l=new x.WM({Authorization:this.authenticationService.currentUserValue.Token});this.http.post(this.servicio.url_global+"Web_service/ws_guardar_plato",n,{headers:l}).subscribe(p=>{console.log("Image uploaded successfully",p),e._snackBar.open(p.mensaje,"",{duration:2e3}),this.router.navigate(["/principal/venta/registrar_plato"])},p=>{console.error("Image upload failed",p)})}}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(x.eN),t.Y36(L.ux),t.Y36(Jt.dL),t.Y36(T.$),t.Y36(St.c),t.Y36(m.gz),t.Y36(m.F0),t.Y36(v.b),t.Y36(d.qu),t.Y36(m.gz))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-registrar-platonew"]],decls:86,vars:8,consts:[[3,"formGroup","submit"],["type","hidden","formControlName","producto_id"],[1,"row"],[1,"col-md-12"],[2,"font-weight","bold","font-size","25px"],[1,"col-md-3"],[1,"card-body"],[1,"m-t-30"],["id","preview",1,"img-circle",2,"width","120px","height","120px",3,"src"],["type","file","accept","image/*","id","imagen","name","imagen",3,"change"],[1,"col-md-9"],[1,"col-md-4"],["appearance","outline",2,"width","100% !important"],["matInput","","formControlName","codigo_barra"],["matInput","","formControlName","codigo_referencia"],[1,"col-md-2"],["required","","formControlName","tipo_moneda"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","moneda","type","number","step","0.01"],["formControlName","categoria","required",""],["placeholderLabel","Buscar Categoria....."],["matInput","","formControlName","stock_minimo"],["required","","formControlName","unidad"],["appearance","outline",1,"example-full-width",2,"width","100% !important"],["matInput","","placeholder","","formControlName","descripcion"],[1,"col-md-12","d-flex","justify-content-center"],["id","basic","type","submit","mat-button","",2,"color","white","background-color","#039be5",3,"disabled"],["id","basic","routerLink","/principal/venta/registrar_plato","type","button","mat-button","",2,"color","white","background-color","red"],[3,"value"]],template:function(e,o){1&e&&(t.TgZ(0,"form",0),t.NdJ("submit",function(){return o.onSubmit()}),t._UZ(1,"input",1),t.TgZ(2,"div",2)(3,"div",3)(4,"h5",4),t._uU(5),t.qZA()()(),t._UZ(6,"br"),t.TgZ(7,"mat-card")(8,"div",2)(9,"div",5)(10,"div",6)(11,"div",7),t._UZ(12,"img",8),t.qZA()(),t.TgZ(13,"div",6)(14,"div",3)(15,"label"),t._uU(16,"Imagen"),t.qZA(),t.TgZ(17,"input",9),t.NdJ("change",function(a){return o.showPreview(a)}),t.qZA()()()(),t.TgZ(18,"div",10)(19,"div",2)(20,"div",11)(21,"mat-form-field",12)(22,"mat-label"),t._uU(23," Codigo Barra"),t.qZA(),t._UZ(24,"input",13),t.TgZ(25,"mat-error"),t._uU(26," Campo requerido "),t.qZA()()(),t.TgZ(27,"div",11)(28,"mat-form-field",12)(29,"mat-label"),t._uU(30," Codigo Referencia"),t.qZA(),t._UZ(31,"input",14),t.TgZ(32,"mat-error"),t._uU(33," Campo requerido "),t.qZA()()(),t.TgZ(34,"div",15)(35,"mat-form-field",12)(36,"mat-label"),t._uU(37,"Moneda"),t.qZA(),t.TgZ(38,"mat-select",16),t.YNc(39,Yt,2,2,"mat-option",17),t.qZA(),t.TgZ(40,"mat-error"),t._uU(41," Campo requerido "),t.qZA()()(),t.TgZ(42,"div",15)(43,"mat-form-field",12)(44,"mat-label"),t._uU(45,"monto"),t.qZA(),t._UZ(46,"input",18),t.TgZ(47,"mat-error"),t._uU(48," Campo requerido "),t.qZA()()(),t.TgZ(49,"div",11)(50,"mat-form-field",12)(51,"mat-label"),t._uU(52,"Categoria"),t.qZA(),t.TgZ(53,"mat-select",19)(54,"mat-option"),t._UZ(55,"ngx-mat-select-search",20),t.qZA(),t.YNc(56,Ft,2,2,"mat-option",17),t.qZA(),t.TgZ(57,"mat-error"),t._uU(58," Campo requerido "),t.qZA()()(),t.TgZ(59,"div",11)(60,"mat-form-field",12)(61,"mat-label"),t._uU(62,"Stock Minimo"),t.qZA(),t._UZ(63,"input",21),t.TgZ(64,"mat-error"),t._uU(65," Campo requerido "),t.qZA()()(),t.TgZ(66,"div",11)(67,"mat-form-field",12)(68,"mat-label"),t._uU(69,"Unidad Medida"),t.qZA(),t.TgZ(70,"mat-select",22),t.YNc(71,Qt,2,2,"mat-option",17),t.qZA(),t.TgZ(72,"mat-error"),t._uU(73," Campo requerido "),t.qZA()()(),t.TgZ(74,"div",11)(75,"mat-form-field",23)(76,"mat-label"),t._uU(77,"Descripcion"),t.qZA(),t._UZ(78,"textarea",24),t.qZA()()(),t._UZ(79,"br"),t.qZA()(),t.TgZ(80,"div",2)(81,"div",25)(82,"button",26),t._uU(83),t.qZA(),t.TgZ(84,"button",27),t._uU(85," Cancelar "),t.qZA()()()()()),2&e&&(t.Q6J("formGroup",o.form),t.xp6(5),t.Oqu(o.titulo),t.xp6(7),t.Q6J("src",o.imageURL,t.LSH),t.xp6(27),t.Q6J("ngForOf",o.lista_moneda),t.xp6(17),t.Q6J("ngForOf",o.lista_categoria),t.xp6(15),t.Q6J("ngForOf",o.lista_unidad_medida),t.xp6(11),t.Q6J("disabled",!o.form.valid||!o.estado),t.xp6(1),t.hij(" ",o.texto_boton," "))},directives:[d._Y,d.JL,d.sg,d.Fj,d.JJ,d.u,Z.a8,h.KE,h.hX,A.Nt,h.TO,F.gD,d.Q7,_.sg,Et.ey,d.wV,Q.nu,w.lW,m.rH],styles:[".img-circle[_ngcontent-%COMP%]{border-radius:50%}"]}),i})();const zt=[{path:"",data:{title:"Venta"},children:[{path:"",redirectTo:"Venta_mesa"},{path:"Venta_mesa",component:c(9374).y,data:{title:"servicio"}},{path:"lista_venta",component:et,data:{title:"lista ventas"}},{path:"Pedido/:idventa/:idmesa/:nombremesa",component:Nt,data:{title:"servicio"}},{path:"registrar_plato",component:Lt,data:{title:"Lista Platos"}},{path:"registrar_plato/nuevo",component:jt,data:{title:"NUEVO PLATO"}}]}];let Vt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[m.Bz.forChild(zt)],m.Bz]}),i})();var Bt=c(4847),Dt=c(6087),Ht=c(9464),j=c(1330),$t=c(2181),Gt=c(8989),Wt=c(7399),Xt=c(4623),Kt=c(2041),te=c(9832),ee=c(7446),oe=c(1125),ie=c(1079);(new j._n1).setLocale(Gt.Z);let ne=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({providers:[_.H9],imports:[[S.g,k.T,x.JF,Kt.I,te.vV,ee.p9,F.LD,E.Cq,f.Is,d.UX,d.u5,Y.h,Z.QW,Xt.ie,Wt._r,$t.Tx,j.mR9.forRoot(),P.Nh,Ht.r,w.ot,J.Ps,A.c,_.ez,h.lN,Vt,Bt.JX,Dt.TU,y.p0,O.Hi,Q.Co,oe.To,ie.Bb]]}),i})()}}]);