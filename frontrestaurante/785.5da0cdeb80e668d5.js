"use strict";(self.webpackChunkfrontrestaurante=self.webpackChunkfrontrestaurante||[]).push([[785],{7890:(J,T,i)=>{i.d(T,{ci:()=>c});var m=i(6346),d=i(4847),b=i(6087),t=i(5e3),g=i(325),A=i(7261),C=i(5228),v=i(8966),x=i(9293),E=i(7423),O=i(7322),h=i(7531),o=i(9808),Z=i(5245);function U(a,n){1&a&&(t.TgZ(0,"th",21),t._uU(1," ID "),t.qZA())}function y(a,n){if(1&a&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&a){const e=n.index;t.xp6(1),t.hij(" ",e+1," ")}}function P(a,n){if(1&a&&(t.TgZ(0,"th",21),t._uU(1),t.qZA()),2&a){const e=t.oxw().index,l=t.oxw();t.xp6(1),t.hij(" ",l.nombrecolumna[e]," ")}}function I(a,n){if(1&a&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&a){const e=n.$implicit,l=t.oxw().$implicit;t.xp6(1),t.hij(" ",e[l],"")}}function Y(a,n){1&a&&(t.ynx(0,23),t.YNc(1,P,2,1,"th",12),t.YNc(2,I,2,1,"td",24),t.BQk()),2&a&&t.Q6J("matColumnDef",n.$implicit)}function B(a,n){1&a&&(t.TgZ(0,"th",21),t._uU(1," Opciones "),t.qZA())}function M(a,n){if(1&a){const e=t.EpF();t.TgZ(0,"td",26)(1,"mat-icon",27),t.NdJ("click",function(){const p=t.CHM(e).$implicit;return t.oxw().editarboton(p.id)}),t._uU(2,"create_outline"),t.qZA(),t.TgZ(3,"mat-icon",28),t.NdJ("click",function(){const p=t.CHM(e).$implicit;return t.oxw().eliminarboton(p.id)}),t._uU(4,"delete_outline"),t.qZA()()}}function N(a,n){1&a&&t._UZ(0,"tr",29)}function R(a,n){1&a&&t._UZ(0,"tr",30)}const L=function(){return[10,25,100]};let c=(()=>{class a{constructor(e,l,u,p,f,D){this.route=e,this.router=l,this._snackBar=u,this.authenticationService=p,this.dialog=f,this.servicio=D,this.titulo_modulo="",this.columnas=[],this.filasource=new m.by,this.nombrecolumna=[],this.url_eliminar="",this.url_nuevo="",this.url_editar="",this.columntem=[],this.options={timeOut:3e3,showProgressBar:!0,pauseOnHover:!0,clickToClose:!0}}ngAfterViewInit(){}openDialog(e){this.dialog.open(_).afterClosed().subscribe(p=>{if(console.log(p),"si"==p){let f=this.filasource.data;f=f.filter(S=>S.id!=e),this.filasource=new m.by(f);let D=this,w=this.authenticationService.currentUserValue;console.log(w.Token);const W=w.Token.toString();this.servicio.enviar_seguro(this.url_eliminar,{id:e},W).pipe().subscribe(S=>{D._snackBar.open(S.mensaje,"",{duration:2e3}),D.filasource.paginator=this.paginator,D.filasource.sort=this.sort})}})}ngOnChanges(e){console.log(e.filasource.currentValue.data.length),e.filasource.currentValue.data.length>0&&(console.log(this.filasource),this.filasource.paginator=this.paginator,this.filasource.sort=this.sort)}ngOnInit(){let e=this;this.columnas.forEach(l=>{e.columntem.push(l)}),console.log(this.columntem),this.columnas.unshift("id"),this.columnas.push("opcion")}applyFilter(e){e=(e=e.trim()).toLowerCase(),this.filasource.filter=e}editarboton(e){this.router.navigate([this.url_editar+e])}eliminarboton(e){this.openDialog(e)}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(g.gz),t.Y36(g.F0),t.Y36(A.ux),t.Y36(C.$),t.Y36(v.uw),t.Y36(x.b))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-datablematerial"]],viewQuery:function(e,l){if(1&e&&(t.Gf(b.NW,5),t.Gf(d.YE,5)),2&e){let u;t.iGM(u=t.CRH())&&(l.paginator=u.first),t.iGM(u=t.CRH())&&(l.sort=u.first)}},inputs:{titulo_modulo:"titulo_modulo",columnas:"columnas",filasource:"filasource",nombrecolumna:"nombrecolumna",url_eliminar:"url_eliminar",url_nuevo:"url_nuevo",url_editar:"url_editar"},features:[t.TTD],decls:29,vars:8,consts:[[1,"row"],[1,"col-md-12"],[2,"font-weight","bold","font-size","25px","color","black"],[1,"col-md-3"],["mat-raised-button","",2,"background-color","#039be5","color","white",3,"routerLink"],[1,"col-md-7"],[1,"col-md-2"],["fxLayout","row",1,"example-header"],["matInput","","placeholder","Buscar",3,"keyup"],[1,"mat-elevation-z2"],["mat-table","","matSort","",2,"width","100% !important",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","","data-label","id",4,"matCellDef"],[3,"matColumnDef",4,"ngFor","ngForOf"],["matColumnDef","opcion"],["mat-cell","","fxHide","","fxShow.gt-xs","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],["paginator",""],["mat-header-cell","","mat-sort-header",""],["mat-cell","","data-label","id"],[3,"matColumnDef"],["mat-cell","",4,"matCellDef"],["mat-cell",""],["mat-cell","","fxHide","","fxShow.gt-xs",""],["mat-raised-button","","aria-label","Example home icon","title","Editar registro",2,"color","royalblue","cursor","pointer",3,"click"],["title","Eliminar registro","aria-label","Example home icon","matTooltip","Eliminar registro",2,"color","red","cursor","pointer",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,l){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),t._uU(3),t.qZA()()(),t._UZ(4,"br"),t.TgZ(5,"div",0)(6,"div",3)(7,"button",4),t._uU(8,"Nuevo"),t.qZA()(),t._UZ(9,"div",5),t.TgZ(10,"div",6)(11,"div",7)(12,"mat-form-field")(13,"input",8),t.NdJ("keyup",function(p){return l.applyFilter(p.target.value)}),t.qZA()()()()(),t.TgZ(14,"div",0)(15,"div",1)(16,"div",9)(17,"table",10),t.ynx(18,11),t.YNc(19,U,2,0,"th",12),t.YNc(20,y,2,1,"td",13),t.BQk(),t.YNc(21,Y,3,1,"ng-container",14),t.ynx(22,15),t.YNc(23,B,2,0,"th",12),t.YNc(24,M,5,0,"td",16),t.BQk(),t.YNc(25,N,1,0,"tr",17),t.YNc(26,R,1,0,"tr",18),t.qZA(),t._UZ(27,"mat-paginator",19,20),t.qZA()()()),2&e&&(t.xp6(3),t.Oqu(l.titulo_modulo),t.xp6(4),t.Q6J("routerLink",l.url_nuevo),t.xp6(10),t.Q6J("dataSource",l.filasource),t.xp6(4),t.Q6J("ngForOf",l.columntem),t.xp6(4),t.Q6J("matHeaderRowDef",l.columnas),t.xp6(1),t.Q6J("matRowDefColumns",l.columnas),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(7,L)))},directives:[E.lW,g.rH,O.KE,h.Nt,m.BZ,m.w1,m.fO,m.ge,m.Dz,m.ev,o.sg,Z.Hw,m.as,m.XQ,m.nj,m.Gk,b.NW],styles:["table[_ngcontent-%COMP%]{width:100%}body[_ngcontent-%COMP%]{font-family:Covered By Your Grace,cursive;line-height:1.25}"]}),a})(),_=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=t.Xpm({type:a,selectors:[["eliminar-modal"]],decls:9,vars:1,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","",2,"background-color","red","color","white",3,"mat-dialog-close"],["mat-button","","mat-dialog-close",""]],template:function(e,l){1&e&&(t.TgZ(0,"h1",0),t._uU(1,"\xbfEST\xc1S SEGURO QUE DESEA ELIMINAR?"),t.qZA(),t.TgZ(2,"div",1),t._uU(3,"Recuerda que una vez eliminado no podra recuperar este registro"),t.qZA(),t.TgZ(4,"div",2)(5,"button",3),t._uU(6,"Aceptar"),t.qZA(),t.TgZ(7,"button",4),t._uU(8,"Cerrar"),t.qZA()()),2&e&&(t.xp6(5),t.Q6J("mat-dialog-close","si"))},directives:[v.uh,v.xY,v.H8,E.lW,v.ZT],encapsulation:2}),a})()},7785:(J,T,i)=>{i.r(T),i.d(T,{AlmacenModule:()=>L});var m=i(9808),d=i(3075),b=i(9224),t=i(7423),g=i(7322),A=i(7531),C=i(6346),v=i(4847),x=i(6087),E=i(5245),O=i(9464),h=i(325),o=i(5e3),Z=i(5228),U=i(9293),y=i(7890);let P=(()=>{class c{constructor(r,s,a,n){this.route=r,this.router=s,this.authenticationService=a,this.servicio=n,this.columnas=["descripcion","direccion"],this.nombrecolumna=["Descripci\xf3n ","Direcci\xf3n"],this.dataSource=new C.by}ngOnInit(){let r=this,s=this.authenticationService.currentUserValue;console.log(s.Token);const a=s.Token.toString();this.servicio.enviar_seguro("web_service/lista_almacen",{},a).pipe().subscribe(n=>{r.dataSource=new C.by(n.lista)})}}return c.\u0275fac=function(r){return new(r||c)(o.Y36(h.gz),o.Y36(h.F0),o.Y36(Z.$),o.Y36(U.b))},c.\u0275cmp=o.Xpm({type:c,selectors:[["app-almacen"]],decls:1,vars:3,consts:[["titulo_modulo","LISTA DE ALMACENES","url_nuevo","/principal/almacen/almacen/nuevo","url_editar","/principal/almacen/almacen/editar/","url_eliminar","web_service/eliminar_almacen",3,"columnas","filasource","nombrecolumna"]],template:function(r,s){1&r&&o._UZ(0,"app-datablematerial",0),2&r&&o.Q6J("columnas",s.columnas)("filasource",s.dataSource)("nombrecolumna",s.nombrecolumna)},directives:[y.ci],styles:[""]}),c})();var I=i(7261),Y=i(5377),B=i(7505);let M=(()=>{class c{constructor(r,s,a,n,e,l,u,p,f){this._snackBar=r,this.loadingBar=s,this.authenticationService=a,this.alertService=n,this.route=e,this.router=l,this.servicio=u,this.formbuilder=p,this.activatedroute=f,this.titulo="",this.tipo_movimiento=[],this.texto_boton="Guardar",this.estado=!0,this.form=this.formbuilder.group({descripcion:["",[d.kI.required]],id:["",[]],direccion:["",[d.kI.required]]})}ngOnInit(){let r=this,s=this.authenticationService.currentUserValue;console.log(s.Token);const a=s.Token.toString();console.log("info....."),this.activatedroute.data.subscribe(n=>{console.log(n),r.titulo=n.title}),this.route.paramMap.subscribe(n=>{null!=n.get("id")&&(r.form.get("id").setValue(n.get("id")),r.servicio.enviar_seguro("web_service/cargar_uno_almacen",{id:n.get("id")},a).pipe().subscribe(e=>{r.form.get("descripcion").setValue(e.almacen_descripcion),r.form.get("direccion").setValue(e.almacen_direccion)},e=>{}))})}onSubmit(){let r=this;if(this.form.valid){let s={};r.texto_boton="Guardando...",r.estado=!1,s=this.form.value,this.servicio.enviar_seguro("web_service/guardar_almacen",s,this.authenticationService.currentUserValue.Token).pipe().subscribe(e=>{r._snackBar.open(e.mensaje,"",{duration:2e3}),this.router.navigate(["/principal/almacen/almacen"])},e=>{})}}}return c.\u0275fac=function(r){return new(r||c)(o.Y36(I.ux),o.Y36(Y.dL),o.Y36(Z.$),o.Y36(B.c),o.Y36(h.gz),o.Y36(h.F0),o.Y36(U.b),o.Y36(d.qu),o.Y36(h.gz))},c.\u0275cmp=o.Xpm({type:c,selectors:[["app-almacen-nuevo"]],decls:32,vars:4,consts:[[3,"formGroup","submit"],["type","hidden","formControlName","id"],[1,"row"],[1,"col-md-12"],[2,"font-weight","bold","font-size","25px"],[1,"col-md-6"],["appearance","outline",2,"width","100% !important"],["matInput","","formControlName","descripcion"],["matInput","","formControlName","direccion"],[1,"col-md-12","d-flex","justify-content-center"],["id","basic","type","submit","mat-button","",2,"color","white","background-color","#039be5",3,"disabled"],["id","basic","routerLink","/principal/almacen/almacen","type","button","mat-button","",2,"color","white","background-color","red"]],template:function(r,s){1&r&&(o.TgZ(0,"form",0),o.NdJ("submit",function(){return s.onSubmit()}),o._UZ(1,"input",1),o.TgZ(2,"div",2)(3,"div",3)(4,"h5",4),o._uU(5),o.qZA()()(),o._UZ(6,"br"),o.TgZ(7,"div",2)(8,"div",3)(9,"mat-card")(10,"div",2)(11,"div",5)(12,"mat-form-field",6)(13,"mat-label"),o._uU(14,"Descripci\xf3n del Almacen"),o.qZA(),o._UZ(15,"input",7),o.TgZ(16,"mat-error"),o._uU(17," Campo requerido "),o.qZA()()(),o.TgZ(18,"div",5)(19,"mat-form-field",6)(20,"mat-label"),o._uU(21,"Direcci\xf3n del Almacen"),o.qZA(),o._UZ(22,"input",8),o.TgZ(23,"mat-error"),o._uU(24," Campo requerido "),o.qZA()()()(),o._UZ(25,"br"),o.TgZ(26,"div",2)(27,"div",9)(28,"button",10),o._uU(29),o.qZA(),o.TgZ(30,"button",11),o._uU(31," Cancelar "),o.qZA()()()()()()()),2&r&&(o.Q6J("formGroup",s.form),o.xp6(5),o.Oqu(s.titulo),o.xp6(23),o.Q6J("disabled",!s.form.valid||!s.estado),o.xp6(1),o.hij(" ",s.texto_boton," "))},directives:[d._Y,d.JL,d.sg,d.Fj,d.JJ,d.u,b.a8,g.KE,g.hX,A.Nt,g.TO,t.lW,h.rH],styles:[""]}),c})();const N=[{path:"",data:{title:"Almacen"},children:[{path:"",redirectTo:"almacen"},{path:"almacen",component:P,data:{title:"Almacen"}},{path:"almacen/nuevo",component:M,data:{title:"Almacen Nuevo"}},{path:"almacen/editar/:id",component:M,data:{title:"Almacen Editar"}}]}];let R=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=o.oAB({type:c}),c.\u0275inj=o.cJS({imports:[[h.Bz.forChild(N)],h.Bz]}),c})(),L=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=o.oAB({type:c}),c.\u0275inj=o.cJS({providers:[m.H9],imports:[[d.u5,d.UX,b.QW,O.r,t.ot,E.Ps,A.c,m.ez,g.lN,v.JX,x.TU,C.p0,R]]}),c})()}}]);