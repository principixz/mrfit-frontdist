"use strict";(self.webpackChunkfrontrestaurante=self.webpackChunkfrontrestaurante||[]).push([[87],{7890:(K,y,u)=>{u.d(y,{ci:()=>W});var g=u(6346),c=u(4847),S=u(6087),o=u(5e3),C=u(325),O=u(7261),x=u(5228),E=u(8966),L=u(9293),P=u(7423),N=u(7322),Y=u(7531),k=u(9808),_=u(5245);function t(l,d){1&l&&(o.TgZ(0,"th",21),o._uU(1," ID "),o.qZA())}function U(l,d){if(1&l&&(o.TgZ(0,"td",22),o._uU(1),o.qZA()),2&l){const a=d.index;o.xp6(1),o.hij(" ",a+1," ")}}function A(l,d){if(1&l&&(o.TgZ(0,"th",21),o._uU(1),o.qZA()),2&l){const a=o.oxw().index,m=o.oxw();o.xp6(1),o.hij(" ",m.nombrecolumna[a]," ")}}function I(l,d){if(1&l&&(o.TgZ(0,"td",25),o._uU(1),o.qZA()),2&l){const a=d.$implicit,m=o.oxw().$implicit;o.xp6(1),o.hij(" ",a[m],"")}}function J(l,d){1&l&&(o.ynx(0,23),o.YNc(1,A,2,1,"th",12),o.YNc(2,I,2,1,"td",24),o.BQk()),2&l&&o.Q6J("matColumnDef",d.$implicit)}function R(l,d){1&l&&(o.TgZ(0,"th",21),o._uU(1," Opciones "),o.qZA())}function B(l,d){if(1&l){const a=o.EpF();o.TgZ(0,"td",26)(1,"mat-icon",27),o.NdJ("click",function(){const b=o.CHM(a).$implicit;return o.oxw().editarboton(b.id)}),o._uU(2,"create_outline"),o.qZA(),o.TgZ(3,"mat-icon",28),o.NdJ("click",function(){const b=o.CHM(a).$implicit;return o.oxw().eliminarboton(b.id)}),o._uU(4,"delete_outline"),o.qZA()()}}function F(l,d){1&l&&o._UZ(0,"tr",29)}function Q(l,d){1&l&&o._UZ(0,"tr",30)}const q=function(){return[10,25,100]};let W=(()=>{class l{constructor(a,m,v,b,T,M){this.route=a,this.router=m,this._snackBar=v,this.authenticationService=b,this.dialog=T,this.servicio=M,this.titulo_modulo="",this.columnas=[],this.filasource=new g.by,this.nombrecolumna=[],this.url_eliminar="",this.url_nuevo="",this.url_editar="",this.columntem=[],this.options={timeOut:3e3,showProgressBar:!0,pauseOnHover:!0,clickToClose:!0}}ngAfterViewInit(){}openDialog(a){this.dialog.open(G).afterClosed().subscribe(b=>{if(console.log(b),"si"==b){let T=this.filasource.data;T=T.filter(r=>r.id!=a),this.filasource=new g.by(T);let M=this,w=this.authenticationService.currentUserValue;console.log(w.Token);const $=w.Token.toString();this.servicio.enviar_seguro(this.url_eliminar,{id:a},$).pipe().subscribe(r=>{M._snackBar.open(r.mensaje,"",{duration:2e3}),M.filasource.paginator=this.paginator,M.filasource.sort=this.sort})}})}ngOnChanges(a){console.log(a.filasource.currentValue.data.length),a.filasource.currentValue.data.length>0&&(console.log(this.filasource),this.filasource.paginator=this.paginator,this.filasource.sort=this.sort)}ngOnInit(){let a=this;this.columnas.forEach(m=>{a.columntem.push(m)}),console.log(this.columntem),this.columnas.unshift("id"),this.columnas.push("opcion")}applyFilter(a){a=(a=a.trim()).toLowerCase(),this.filasource.filter=a}editarboton(a){this.router.navigate([this.url_editar+a])}eliminarboton(a){this.openDialog(a)}}return l.\u0275fac=function(a){return new(a||l)(o.Y36(C.gz),o.Y36(C.F0),o.Y36(O.ux),o.Y36(x.$),o.Y36(E.uw),o.Y36(L.b))},l.\u0275cmp=o.Xpm({type:l,selectors:[["app-datablematerial"]],viewQuery:function(a,m){if(1&a&&(o.Gf(S.NW,5),o.Gf(c.YE,5)),2&a){let v;o.iGM(v=o.CRH())&&(m.paginator=v.first),o.iGM(v=o.CRH())&&(m.sort=v.first)}},inputs:{titulo_modulo:"titulo_modulo",columnas:"columnas",filasource:"filasource",nombrecolumna:"nombrecolumna",url_eliminar:"url_eliminar",url_nuevo:"url_nuevo",url_editar:"url_editar"},features:[o.TTD],decls:29,vars:8,consts:[[1,"row"],[1,"col-md-12"],[2,"font-weight","bold","font-size","25px","color","black"],[1,"col-md-3"],["mat-raised-button","",2,"background-color","#039be5","color","white",3,"routerLink"],[1,"col-md-7"],[1,"col-md-2"],["fxLayout","row",1,"example-header"],["matInput","","placeholder","Buscar",3,"keyup"],[1,"mat-elevation-z2"],["mat-table","","matSort","",2,"width","100% !important",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","","data-label","id",4,"matCellDef"],[3,"matColumnDef",4,"ngFor","ngForOf"],["matColumnDef","opcion"],["mat-cell","","fxHide","","fxShow.gt-xs","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],["paginator",""],["mat-header-cell","","mat-sort-header",""],["mat-cell","","data-label","id"],[3,"matColumnDef"],["mat-cell","",4,"matCellDef"],["mat-cell",""],["mat-cell","","fxHide","","fxShow.gt-xs",""],["mat-raised-button","","aria-label","Example home icon","title","Editar registro",2,"color","royalblue","cursor","pointer",3,"click"],["title","Eliminar registro","aria-label","Example home icon","matTooltip","Eliminar registro",2,"color","red","cursor","pointer",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(a,m){1&a&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),o._uU(3),o.qZA()()(),o._UZ(4,"br"),o.TgZ(5,"div",0)(6,"div",3)(7,"button",4),o._uU(8,"Nuevo"),o.qZA()(),o._UZ(9,"div",5),o.TgZ(10,"div",6)(11,"div",7)(12,"mat-form-field")(13,"input",8),o.NdJ("keyup",function(b){return m.applyFilter(b.target.value)}),o.qZA()()()()(),o.TgZ(14,"div",0)(15,"div",1)(16,"div",9)(17,"table",10),o.ynx(18,11),o.YNc(19,t,2,0,"th",12),o.YNc(20,U,2,1,"td",13),o.BQk(),o.YNc(21,J,3,1,"ng-container",14),o.ynx(22,15),o.YNc(23,R,2,0,"th",12),o.YNc(24,B,5,0,"td",16),o.BQk(),o.YNc(25,F,1,0,"tr",17),o.YNc(26,Q,1,0,"tr",18),o.qZA(),o._UZ(27,"mat-paginator",19,20),o.qZA()()()),2&a&&(o.xp6(3),o.Oqu(m.titulo_modulo),o.xp6(4),o.Q6J("routerLink",m.url_nuevo),o.xp6(10),o.Q6J("dataSource",m.filasource),o.xp6(4),o.Q6J("ngForOf",m.columntem),o.xp6(4),o.Q6J("matHeaderRowDef",m.columnas),o.xp6(1),o.Q6J("matRowDefColumns",m.columnas),o.xp6(1),o.Q6J("pageSizeOptions",o.DdM(7,q)))},directives:[P.lW,C.rH,N.KE,Y.Nt,g.BZ,g.w1,g.fO,g.ge,g.Dz,g.ev,k.sg,_.Hw,g.as,g.XQ,g.nj,g.Gk,S.NW],styles:["table[_ngcontent-%COMP%]{width:100%}body[_ngcontent-%COMP%]{font-family:Covered By Your Grace,cursive;line-height:1.25}"]}),l})(),G=(()=>{class l{}return l.\u0275fac=function(a){return new(a||l)},l.\u0275cmp=o.Xpm({type:l,selectors:[["eliminar-modal"]],decls:9,vars:1,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","",2,"background-color","red","color","white",3,"mat-dialog-close"],["mat-button","","mat-dialog-close",""]],template:function(a,m){1&a&&(o.TgZ(0,"h1",0),o._uU(1,"\xbfEST\xc1S SEGURO QUE DESEA ELIMINAR?"),o.qZA(),o.TgZ(2,"div",1),o._uU(3,"Recuerda que una vez eliminado no podra recuperar este registro"),o.qZA(),o.TgZ(4,"div",2)(5,"button",3),o._uU(6,"Aceptar"),o.qZA(),o.TgZ(7,"button",4),o._uU(8,"Cerrar"),o.qZA()()),2&a&&(o.xp6(5),o.Q6J("mat-dialog-close","si"))},directives:[E.uh,E.xY,E.H8,P.lW,E.ZT],encapsulation:2}),l})()},3087:(K,y,u)=>{u.r(y),u.d(y,{SeguridadModule:()=>$});var g=u(9808),c=u(3075),S=u(9224),o=u(7423),C=u(7322),O=u(7531),x=u(6346),E=u(4847),L=u(6087),P=u(5245),N=u(9464),Y=u(4107),k=u(4653),_=u(325),t=u(5e3),U=u(5228),A=u(9293),I=u(7890);let J=(()=>{class r{constructor(e,i,s,n){this.route=e,this.router=i,this.authenticationService=s,this.servicio=n,this.columnas=["descripcion","url"],this.nombrecolumna=["Descripci\xf3n ","url"],this.dataSource=new x.by}ngOnInit(){let e=this,i=this.authenticationService.currentUserValue;console.log(i.Token);const s=i.Token.toString();this.servicio.enviar_seguro("web_service/lista_modulo",{},s).pipe().subscribe(n=>{e.dataSource=new x.by(n.lista_concepto)})}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(_.gz),t.Y36(_.F0),t.Y36(U.$),t.Y36(A.b))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-modulolista"]],decls:1,vars:3,consts:[["titulo_modulo","LISTA DE MODULOS","url_nuevo","/principal/seguridad/modulo/nuevo","url_editar","/principal/seguridad/modulo/editar/","url_eliminar","web_service/eliminar_modulo",3,"columnas","filasource","nombrecolumna"]],template:function(e,i){1&e&&t._UZ(0,"app-datablematerial",0),2&e&&t.Q6J("columnas",i.columnas)("filasource",i.dataSource)("nombrecolumna",i.nombrecolumna)},directives:[I.ci],styles:[""]}),r})(),R=(()=>{class r{constructor(e,i,s,n){this.route=e,this.router=i,this.authenticationService=s,this.servicio=n,this.columnas=["descripcion","url"],this.nombrecolumna=["Descripci\xf3n ","url"],this.dataSource=new x.by}ngOnInit(){let e=this,i=this.authenticationService.currentUserValue;console.log(i.Token);const s=i.Token.toString();this.servicio.enviar_seguro("web_service/lista_perfil",{},s).pipe().subscribe(n=>{e.dataSource=new x.by(n.lista_concepto)})}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(_.gz),t.Y36(_.F0),t.Y36(U.$),t.Y36(A.b))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-perfilista"]],decls:1,vars:3,consts:[["titulo_modulo","LISTA DE PERFILES","url_nuevo","/principal/seguridad/perfil/nuevo","url_editar","/principal/seguridad/perfil/editar/","url_eliminar","web_service/eliminar_perfil",3,"columnas","filasource","nombrecolumna"]],template:function(e,i){1&e&&t._UZ(0,"app-datablematerial",0),2&e&&t.Q6J("columnas",i.columnas)("filasource",i.dataSource)("nombrecolumna",i.nombrecolumna)},directives:[I.ci],styles:[""]}),r})();var B=u(7407),F=u(2290),Q=u(2852);function q(r,p){if(1&r&&(t.TgZ(0,"li"),t._UZ(1,"input",23),t.TgZ(2,"label",24),t._uU(3),t.qZA()()),2&r){const e=p.$implicit,i=p.index,s=t.oxw().index,n=t.oxw();t.xp6(1),t.MGl("id","flat-checkbox-",e.id,""),t.Q6J("formControlName",n.datos[s][i])("value",e.id),t.xp6(1),t.MGl("for","flat-checkbox-",e.id,""),t.xp6(1),t.Oqu(e.modulo_nombre)}}function W(r,p){if(1&r&&(t.TgZ(0,"div",18)(1,"label",19),t._uU(2),t.qZA(),t.TgZ(3,"div",20)(4,"ul",21),t.YNc(5,q,4,5,"li",22),t.qZA()()()),2&r){const e=p.$implicit;t.xp6(2),t.Oqu(e.nombre_padre),t.xp6(3),t.Q6J("ngForOf",e.lista)}}const G=function(){return["/seguridad/permiso"]};let j=(()=>{class r{constructor(e,i,s,n,f,h,Z){this.conexion=e,this._formBuilder=i,this.usuario=s,this.carga=n,this.toastr=f,this.authenticationService=h,this.varglobal=Z,this.variable=[],this.datos=[],this.c=-1,this.formulario=this._formBuilder.group({checkmodulo:new c.Oe([],H(1)),perfil_id:["1"]})}get getcheckmodulo(){return this.formulario.controls.checkmodulo}onTagChanged(e){console.log(e);let s=this.authenticationService.currentUserValue.Token;this.carga.start(),this.conexion.enviar_seguro("web_service/ws_traer_modulo",{perfil_id:e.value},s).pipe().subscribe(n=>{this.getcheckmodulo.clear(),console.log(n),this.modulos=n;let f=0;for(let h=0;h<this.modulos.length;h++){let Z=[];for(let D=0;D<this.modulos[h].lista.length;D++)Z.push(f),f++,this.variable.push({id:this.modulos[h].lista[D].id}),this.getcheckmodulo.push(new c.NI(1==this.modulos[h].lista[D].estado));this.datos.push(Z)}this.carga.stop()},n=>{this.carga.stop()})}guardar(){let e={},i=this.formulario.value;const s=this.formulario.value.checkmodulo.map((h,Z)=>h?this.variable[Z].id:null).filter(h=>null!==h);console.log(s),e.perfil_id=i.perfil_id,e.modulo=s;let f=this.authenticationService.currentUserValue.Token;this.carga.start(),this.conexion.enviar_seguro("web_service/ws_procesar_permiso",e,f).pipe().subscribe(h=>{this.carga.stop(),1==h.estado?this.toastr.success(h.msg,"Registro exitoso",{closeButton:!1,positionClass:"toast-bottom-right"}):this.toastr.error(h.msg,"ERROR",{closeButton:!1,positionClass:"toast-bottom-right"})},h=>{this.carga.stop(),this.toastr.error(h,"ERROR",{closeButton:!1,positionClass:"toast-bottom-right"})})}cargar_menu(){const i=this.authenticationService.currentUserValue.Token.toString();this.conexion.enviar_seguro("web_service/cargar_menu",{},i).pipe().subscribe(s=>{this.varglobal.updateSharedData(s),console.log(this.varglobal.getSharedData())},s=>{console.log(s)})}ngOnInit(){this.conexion.enviar_seguro("web_service/ws_cargar_perfil",{},this.authenticationService.currentUserValue.Token).pipe().subscribe(s=>{console.log(s),this.exampleData=s},s=>{})}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(A.b),t.Y36(c.qu),t.Y36(U.$),t.Y36(B.LA),t.Y36(F._W),t.Y36(U.$),t.Y36(Q.z))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-permisoslista"]],decls:25,vars:6,consts:[["novalidate","",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-sm-12"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"col-md-12","d-flex","justify-content-center"],["value","1","formControlName","perfil_id",2,"width","40% !important",3,"placeholder","data","update"],[1,"col-md-12"],[1,"card-title"],[1,"card-subtitle"],[1,"skin","skin-square"],["id","cuerpo_icono",1,"form-group"],["formArrayName","checkmodulo",1,"row"],["class","col-md-3",4,"ngFor","ngForOf"],[1,"row","d-flex","justify-content-center",2,"margin-top","20px"],["type","button",1,"btn","btn-danger",3,"routerLink"],["type","submit",1,"btn","btn-primary",2,"margin-left","5px"],[1,"col-md-3"],[2,"font-weight","bold"],[1,"input-group"],[1,"icheck-list",2,"list-style-type","none"],[4,"ngFor","ngForOf"],["type","checkbox","data-checkbox","icheckbox_flat-red",2,"cursor","pointer",3,"formControlName","value","id"],[2,"cursor","pointer",3,"for"]],template:function(e,i){1&e&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return i.guardar()}),t.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"strong"),t._uU(6,"SELECCIONAR PERFIL"),t.qZA()(),t.TgZ(7,"div",5)(8,"div",1)(9,"div",6)(10,"select2",7),t.NdJ("update",function(n){return i.onTagChanged(n)}),t.qZA()()(),t.TgZ(11,"div",1)(12,"div",8)(13,"h5",9),t._uU(14,"Lista de Permisos"),t.qZA(),t._UZ(15,"h6",10),t.TgZ(16,"div",11)(17,"div",12)(18,"div",13),t.YNc(19,W,6,2,"div",14),t.qZA()()()()(),t.TgZ(20,"div",15)(21,"button",16),t._uU(22,"Cancelar"),t.qZA(),t.TgZ(23,"button",17),t._uU(24,"Guardar"),t.qZA()()()()()()()),2&e&&(t.Q6J("formGroup",i.formulario),t.xp6(10),t.Q6J("placeholder","Seleccionar perfil")("data",i.exampleData),t.xp6(9),t.Q6J("ngForOf",i.modulos),t.xp6(2),t.Q6J("routerLink",t.DdM(5,G)))},directives:[c._Y,c.JL,c.sg,k.ub,c.JJ,c.u,c.CE,g.sg,c.Wl,_.rH],styles:[""]}),r})();function H(r=1){return e=>{if(e instanceof c.Oe)return e.controls.map(s=>s.value).reduce((s,n)=>n?s+n:s,0)>=r?null:{required:!0};throw new Error("formArray is not an instance of FormArray")}}var l=u(7261),d=u(5377),a=u(7505),m=u(508);function v(r,p){if(1&r&&(t.TgZ(0,"mat-option",15),t._uU(1),t.qZA()),2&r){const e=p.$implicit;t.Q6J("value",e.modulo_id),t.xp6(1),t.Oqu(e.modulo_nombre)}}let b=(()=>{class r{constructor(e,i,s,n,f,h,Z,D,V){this._snackBar=e,this.loadingBar=i,this.authenticationService=s,this.alertService=n,this.route=f,this.router=h,this.servicio=Z,this.formbuilder=D,this.activatedroute=V,this.titulo="",this.lista_padre=[],this.texto_boton="Guardar",this.estado=!0,this.form=this.formbuilder.group({descripcion:["",[c.kI.required]],id:["",[]],icono:["",[c.kI.required]],url:["",[c.kI.required]],modulopadre:["",[c.kI.required]]})}ngOnInit(){let e=this,i=this.authenticationService.currentUserValue;console.log(i.Token);const s=i.Token.toString();console.log("info....."),this.activatedroute.data.subscribe(n=>{console.log(n),e.titulo=n.title}),this.route.paramMap.subscribe(n=>{null!=n.get("id")&&(e.form.get("id").setValue(n.get("id")),e.servicio.enviar_seguro("web_service/cargar_modulo_uno",{id:n.get("id")},s).pipe().subscribe(f=>{e.form.get("descripcion").setValue(f.modulo_nombre),e.form.get("icono").setValue(f.modulo_icono),e.form.get("url").setValue(f.modulo_url),e.form.get("modulopadre").setValue(f.modulo_padre)},f=>{}))}),this.servicio.enviar_seguro("Web_Service/lista_modulopadre",{},s).pipe().subscribe(n=>{e.lista_padre=n.lista_concepto})}onSubmit(){let e=this;if(this.form.valid){let i={};e.texto_boton="Guardando...",e.estado=!1,i=this.form.value,this.servicio.enviar_seguro("web_service/guardar_modulo",i,this.authenticationService.currentUserValue.Token).pipe().subscribe(f=>{e._snackBar.open(f.mensaje,"",{duration:2e3}),this.router.navigate(["/principal/seguridad/modulo/lista"])},f=>{})}}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(l.ux),t.Y36(d.dL),t.Y36(U.$),t.Y36(a.c),t.Y36(_.gz),t.Y36(_.F0),t.Y36(A.b),t.Y36(c.qu),t.Y36(_.gz))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-modulonuevo"]],decls:47,vars:5,consts:[[3,"formGroup","submit"],["type","hidden","formControlName","id"],[1,"row"],[1,"col-md-12"],[2,"font-weight","bold","font-size","25px"],[1,"col-md-4"],["appearance","outline",2,"width","100% !important"],["matInput","","formControlName","descripcion"],["matInput","","formControlName","url"],["matInput","","formControlName","icono"],["formControlName","modulopadre"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-12","d-flex","justify-content-center"],["id","basic","type","submit","mat-button","",2,"color","white","background-color","#039be5",3,"disabled"],["id","basic","routerLink","/principal/seguridad/modulo/lista","type","button","mat-button","",2,"color","white","background-color","red"],[3,"value"]],template:function(e,i){1&e&&(t.TgZ(0,"form",0),t.NdJ("submit",function(){return i.onSubmit()}),t._UZ(1,"input",1),t.TgZ(2,"div",2)(3,"div",3)(4,"h5",4),t._uU(5),t.qZA()()(),t._UZ(6,"br"),t.TgZ(7,"div",2)(8,"div",3)(9,"mat-card")(10,"div",2)(11,"div",5)(12,"mat-form-field",6)(13,"mat-label"),t._uU(14,"Descripci\xf3n del M\xf3dulo"),t.qZA(),t._UZ(15,"input",7),t.TgZ(16,"mat-error"),t._uU(17," Campo requerido "),t.qZA()()(),t.TgZ(18,"div",5)(19,"mat-form-field",6)(20,"mat-label"),t._uU(21,"URL"),t.qZA(),t._UZ(22,"input",8),t.TgZ(23,"mat-error"),t._uU(24," Campo requerido "),t.qZA()()(),t.TgZ(25,"div",5)(26,"mat-form-field",6)(27,"mat-label"),t._uU(28,"Icono"),t.qZA(),t._UZ(29,"input",9),t.TgZ(30,"mat-error"),t._uU(31," Campo requerido "),t.qZA()()(),t.TgZ(32,"div",5)(33,"mat-form-field",6)(34,"mat-label"),t._uU(35,"Tipo de Concepto"),t.qZA(),t.TgZ(36,"mat-select",10),t.YNc(37,v,2,2,"mat-option",11),t.qZA(),t.TgZ(38,"mat-error"),t._uU(39," Campo requerido "),t.qZA()()()(),t._UZ(40,"br"),t.TgZ(41,"div",2)(42,"div",12)(43,"button",13),t._uU(44),t.qZA(),t.TgZ(45,"button",14),t._uU(46," Cancelar "),t.qZA()()()()()()()),2&e&&(t.Q6J("formGroup",i.form),t.xp6(5),t.Oqu(i.titulo),t.xp6(32),t.Q6J("ngForOf",i.lista_padre),t.xp6(6),t.Q6J("disabled",!i.form.valid||!i.estado),t.xp6(1),t.hij(" ",i.texto_boton," "))},directives:[c._Y,c.JL,c.sg,c.Fj,c.JJ,c.u,S.a8,C.KE,C.hX,O.Nt,C.TO,Y.gD,g.sg,m.ey,o.lW,_.rH],styles:[""]}),r})(),T=(()=>{class r{constructor(e,i,s,n,f,h,Z,D,V){this._snackBar=e,this.loadingBar=i,this.authenticationService=s,this.alertService=n,this.route=f,this.router=h,this.servicio=Z,this.formbuilder=D,this.activatedroute=V,this.titulo="",this.tipo_movimiento=[],this.texto_boton="Guardar",this.estado=!0,this.form=this.formbuilder.group({descripcion:["",[c.kI.required]],url:["",[c.kI.required]],id:["",[]]})}ngOnInit(){let e=this,i=this.authenticationService.currentUserValue;console.log(i.Token);const s=i.Token.toString();console.log("info....."),this.activatedroute.data.subscribe(n=>{console.log(n),e.titulo=n.title}),this.route.paramMap.subscribe(n=>{null!=n.get("id")&&(e.form.get("id").setValue(n.get("id")),e.servicio.enviar_seguro("web_service/cargar_perfil_uno",{id:n.get("id")},s).pipe().subscribe(f=>{e.form.get("descripcion").setValue(f.perfil_descripcion),e.form.get("url").setValue(f.perfil_url)},f=>{}))})}onSubmit(){let e=this;if(this.form.valid){let i={};e.texto_boton="Guardando...",e.estado=!1,i=this.form.value,this.servicio.enviar_seguro("web_service/guardar_perfil",i,this.authenticationService.currentUserValue.Token).pipe().subscribe(f=>{e._snackBar.open(f.mensaje,"",{duration:2e3}),this.router.navigate(["/principal/seguridad/perfil/lista"])},f=>{})}}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(l.ux),t.Y36(d.dL),t.Y36(U.$),t.Y36(a.c),t.Y36(_.gz),t.Y36(_.F0),t.Y36(A.b),t.Y36(c.qu),t.Y36(_.gz))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-perfilnuevo"]],decls:32,vars:4,consts:[[3,"formGroup","submit"],["type","hidden","formControlName","id"],[1,"row"],[1,"col-md-12"],[2,"font-weight","bold","font-size","25px"],[1,"col-md-6"],["appearance","outline",2,"width","100% !important"],["matInput","","formControlName","descripcion"],["matInput","","formControlName","url"],[1,"col-md-12","d-flex","justify-content-center"],["id","basic","type","submit","mat-button","",2,"color","white","background-color","#039be5",3,"disabled"],["id","basic","routerLink","/principal/seguridad/perfil/lista","type","button","mat-button","",2,"color","white","background-color","red"]],template:function(e,i){1&e&&(t.TgZ(0,"form",0),t.NdJ("submit",function(){return i.onSubmit()}),t._UZ(1,"input",1),t.TgZ(2,"div",2)(3,"div",3)(4,"h5",4),t._uU(5),t.qZA()()(),t._UZ(6,"br"),t.TgZ(7,"div",2)(8,"div",3)(9,"mat-card")(10,"div",2)(11,"div",5)(12,"mat-form-field",6)(13,"mat-label"),t._uU(14,"Descripci\xf3n del Perfil"),t.qZA(),t._UZ(15,"input",7),t.TgZ(16,"mat-error"),t._uU(17," Campo requerido "),t.qZA()()(),t.TgZ(18,"div",5)(19,"mat-form-field",6)(20,"mat-label"),t._uU(21,"Url "),t.qZA(),t._UZ(22,"input",8),t.TgZ(23,"mat-error"),t._uU(24," Campo requerido "),t.qZA()()()(),t._UZ(25,"br"),t.TgZ(26,"div",2)(27,"div",9)(28,"button",10),t._uU(29),t.qZA(),t.TgZ(30,"button",11),t._uU(31," Cancelar "),t.qZA()()()()()()()),2&e&&(t.Q6J("formGroup",i.form),t.xp6(5),t.Oqu(i.titulo),t.xp6(23),t.Q6J("disabled",!i.form.valid||!i.estado),t.xp6(1),t.hij(" ",i.texto_boton," "))},directives:[c._Y,c.JL,c.sg,c.Fj,c.JJ,c.u,S.a8,C.KE,C.hX,O.Nt,C.TO,o.lW,_.rH],styles:[""]}),r})();const M=[{path:"",data:{title:"Seguridad"},children:[{path:"",redirectTo:"seguridad"},{path:"modulo/lista",component:J,data:{title:"lista Modulo"}},{path:"modulo/nuevo",component:b,data:{title:"Nuevo Modulo"}},{path:"modulo/editar/:id",component:b,data:{title:"Editar Modulo"}},{path:"perfil/lista",component:R,data:{title:"lista de Perfiles"}},{path:"perfil/nuevo",component:T,data:{title:"lista de Perfiles"}},{path:"perfil/editar/:id",component:T,data:{title:"lista de Perfiles"}},{path:"permisos/lista",component:j,data:{title:"lista de permisos"}}]}];let w=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[_.Bz.forChild(M)],_.Bz]}),r})(),$=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({providers:[g.H9],imports:[[c.u5,c.UX,S.QW,N.r,o.ot,Y.LD,P.Ps,O.c,g.ez,C.lN,E.JX,L.TU,x.p0,w,k.ig]]}),r})()}}]);